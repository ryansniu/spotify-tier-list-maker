{"version":3,"sources":["sidebar/utils/constants.js","sidebar/reducers/tracks.js","sidebar/reducers/albums.js","sidebar/reducers/artists.js","store/store.js","sidebar/images/music.jpeg","tierlist/components/Item.jsx","tierlist/components/ColumnColorPicker.js","tierlist/imgs/tool.svg","tierlist/imgs/palette.svg","tierlist/components/Title.jsx","tierlist/components/Column.jsx","tierlist/components/ItemPool.jsx","tierlist/components/TrashCan.jsx","tierlist/TierListContext.js","sidebar/utils/functions.js","sidebar/utils/api.js","sidebar/actions/result.js","sidebar/components/TracksList.js","sidebar/components/AlbumsList.js","sidebar/components/ArtistsList.js","sidebar/components/SearchResult.js","sidebar/components/SearchForm.js","sidebar/components/Header.js","sidebar/components/Loader.js","sidebar/components/Dashboard.js","sidebar/SidebarSearch.js","tierlist/TierList.js","index.js"],"names":["SET_TRACKS","ADD_TRACKS","SET_ALBUMS","ADD_ALBUMS","SET_ARTISTS","ADD_ARTISTS","tracksReducer","state","action","tracks","type","next","items","albumsReducer","albums","artistsReducer","artists","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","applyMiddleware","thunk","ItemContent","styled","div","props","isDragging","Item","draggableId","this","item","id","index","provided","snapshot","draggableProps","dragHandleProps","ref","innerRef","Card","style","margin","Container","Row","Col","xs","target","href","songURL","rel","imgURL","Img","src","alt","music","Body","Title","title","subtitle","Text","React","Component","ColumnColorPicker","useColor","color","setColor","height","width","onChange","e","updateColor","hex","hideHSV","hideRGB","dark","TitleStyle","h3","attrs","backgroundColor","InputStyle","textarea","ButtonStyle","button","inputRef","useRef","useState","colData","setID","setTitle","inputVisible","setInputVisible","update","updateHeader","deleteHandler","onClickOutSide","current","contains","setEditing","useEffect","document","addEventListener","removeEventListener","Fragment","display","alignItems","onSubmit","value","Dropdown","autoClose","as","ButtonGroup","drop","Toggle","variant","Image","palette","fluid","Menu","newColor","onClick","textShadow","wordBreak","flexGrow","overflow","tool","ItemList","isDraggingOver","InnerList","nextProps","map","Column","isEditing","column","isDragDisabled","setState","droppableId","droppableProps","placeholder","ItemPool","className","TrashCan","initialData","data","columns","itemIds","columnOrder","containsItem","addToItemPool","deleteFromItemPool","TierListContext","createContext","setAuthHeader","params","JSON","parse","localStorage","getItem","axios","defaults","headers","common","error","console","log","get","url","a","result","getAuthToken","process","Accept","auth","username","password","grant_type","post","qs","stringify","response","setTracks","setAlbums","setArtists","initiateGetResult","searchTerm","dispatch","API_URL","encodeURIComponent","initiateLoadMoreTracks","initiateLoadMoreAlbums","initiateLoadMoreArtists","TracksList","updater","setUpdater","Object","keys","length","track","external_urls","spotify","name","artist","join","_","isEmpty","album","images","Consumer","maxWidth","marginLeft","marginRight","AlbumsList","ArtistsList","SearchResult","loadMore","setCategory","selectedCategory","Button","SearchForm","setSearchTerm","errorMsg","setErrorMsg","Form","event","preventDefault","trim","handleSearch","Group","controlId","Control","autoComplete","Header","marginBottom","Loader","createElement","node","loader","querySelector","appendChild","classList","add","show","remove","body","ReactDOM","createPortal","children","connect","isLoading","setIsLoading","updateCategory","setSelectedCategory","isValidSession","refreshSession","then","category","SidebarSearch","newState","access_token","expires_in","setItem","Date","getTime","loaded","expiryTime","currentTime","refreshSidebar","itemMap","itemId","PureComponent","refreshColumns","TierList","context","importFromJson","fileReader","FileReader","readAsText","files","onload","Array","isArray","hasValidColumns","requiredColumnKeys","forEach","key","columnKeys","every","v","i","allColumns","splice","indexOf","el","includes","hasValidItems","requiredItemKeys","itemKeys","allItems","concat","deleteItem","source","home","homeitemIds","from","newHome","oldItems","newItems","reduce","object","updateColHeader","newTitle","oldHeader","newHeader","removeCol","newColumnOrder","oldColumns","newColumns","onDragEnd","destination","foreign","foreignitemIds","newForeign","newitemIds","addNewGroup","ID","resetAllItems","removeAllItems","resetAllColumns","resetTierList","newItemIds","newItemPool","delIndex","toSvg","getElementById","dataUrl","link","download","click","catch","err","htmlFor","accept","saveAsSVG","direction","columnId","contextType","render","Provider"],"mappings":"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","file":"static/js/main.c6df5b19.chunk.js","sourcesContent":["export const SET_TRACKS = 'SET_TRACKS';\r\nexport const ADD_TRACKS = 'ADD_TRACKS';\r\nexport const SET_ALBUMS = 'SET_ALBUMS';\r\nexport const ADD_ALBUMS = 'ADD_ALBUMS';\r\nexport const SET_ARTISTS = 'SET_ARTISTS';\r\nexport const ADD_ARTISTS = 'ADD_ARTISTS';","import { SET_TRACKS, ADD_TRACKS } from '../utils/constants';\r\n\r\nconst tracksReducer = (state = {}, action) => {\r\n  const { tracks } = action;\r\n  switch (action.type) {\r\n    case SET_TRACKS:\r\n      return tracks;\r\n    case ADD_TRACKS:\r\n      return {\r\n        ...state,\r\n        next: tracks.next,\r\n        items: [...state.items, ...tracks.items]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default tracksReducer;","import { SET_ALBUMS, ADD_ALBUMS } from '../utils/constants';\r\n\r\nconst albumsReducer = (state = {}, action) => {\r\n  const { albums } = action;\r\n  switch (action.type) {\r\n    case SET_ALBUMS:\r\n      return albums;\r\n    case ADD_ALBUMS:\r\n      return {\r\n        ...state,\r\n        next: albums.next,\r\n        items: [...state.items, ...albums.items]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default albumsReducer;","import { SET_ARTISTS, ADD_ARTISTS } from '../utils/constants';\r\n\r\nconst artistsReducer = (state = {}, action) => {\r\n  const { artists } = action;\r\n  switch (action.type) {\r\n    case SET_ARTISTS:\r\n      return artists;\r\n    case ADD_ARTISTS:\r\n      return {\r\n        ...state,\r\n        next: artists.next,\r\n        items: [...state.items, ...artists.items]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default artistsReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport tracksReducer from '../sidebar/reducers/tracks';\r\nimport albumsReducer from '../sidebar/reducers/albums';\r\nimport artistsReducer from '../sidebar/reducers/artists';\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  combineReducers({\r\n    tracks: tracksReducer,\r\n    albums: albumsReducer,\r\n    artists: artistsReducer\r\n  }),\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","export default __webpack_public_path__ + \"static/media/music.b2fe7d4d.jpeg\";","import React from 'react'\r\nimport styled from 'styled-components';\r\nimport { Card, Container, Row, Col } from 'react-bootstrap';\r\nimport { Draggable } from 'react-beautiful-dnd'\r\nimport music from '../../sidebar/images/music.jpeg';\r\n\r\nconst ItemContent = styled.div`\r\n  margin-bottom: 8px;\r\n  background-color: ${props => (props.isDragging ? '#1DB954' : 'none')};\r\n  border-radius: 4px;\r\n`;\r\n\r\nexport default class Item extends React.Component {\r\n    render() {\r\n      return (\r\n        <Draggable draggableId={this.props.item.id} index={this.props.index}>\r\n          {(provided, snapshot) => (\r\n            <ItemContent\r\n              {...provided.draggableProps}\r\n              {...provided.dragHandleProps}\r\n              ref={provided.innerRef}\r\n              isDragging={snapshot.isDragging}\r\n            >\r\n              <Card style={{ margin: 0 }}>\r\n                <Container>\r\n                  <Row>\r\n                    <Col xs=\"auto\">\r\n                      <a\r\n                        target=\"_blank\"\r\n                        href={this.props.item.songURL}\r\n                        rel=\"noopener noreferrer\"\r\n                      >\r\n                        {this.props.item.imgURL ? (\r\n                          <Card.Img src={this.props.item.imgURL} alt=\"\" />\r\n                        ) : (\r\n                          <img src={music} alt=\"\" />\r\n                        )}\r\n                      </a>\r\n                    </Col>\r\n                    <Col>\r\n                      <Card.Body>\r\n                        <Card.Title>{this.props.item.title}</Card.Title>\r\n                        {this.props.item.subtitle &&\r\n                          <Card.Text>\r\n                            <small>\r\n                              {this.props.item.subtitle}\r\n                            </small>\r\n                          </Card.Text>\r\n                        }\r\n                      </Card.Body>\r\n                    </Col>\r\n                  </Row>\r\n                </Container>\r\n              </Card>\r\n            </ItemContent>\r\n          )}\r\n        </Draggable>\r\n      );\r\n    }\r\n  }","import { ColorPicker, useColor } from \"react-color-palette\";\r\nimport \"react-color-palette/lib/css/styles.css\";\r\n\r\nexport const ColumnColorPicker = props => {\r\n  const [color, setColor] = useColor(\"hex\", props.color);\r\n\r\n  return <ColorPicker height={160} width={240} color={color} onChange={e => { props.updateColor(e.hex); setColor(e); }} hideHSV hideRGB dark />;\r\n};","export default __webpack_public_path__ + \"static/media/tool.f60e7b86.svg\";","export default __webpack_public_path__ + \"static/media/palette.c614a1c8.svg\";","import React, { useState, useRef, useEffect } from 'react';\r\nimport { Image, Dropdown, ButtonGroup } from 'react-bootstrap';\r\nimport { ColumnColorPicker } from \"./ColumnColorPicker\"\r\nimport styled from 'styled-components';\r\nimport tool from '../imgs/tool.svg'\r\nimport palette from '../imgs/palette.svg'\r\nimport \"react-color-palette/lib/css/styles.css\";\r\nimport '../tierlist-styles.css'\r\n\r\nconst TitleStyle = styled.h3.attrs(props => ({\r\n  style: {\r\n    backgroundColor: props.color,\r\n  },\r\n}))`padding: 8px;\r\nmargin-bottom: 0;\r\ndisplay: flex;\r\nmax-width: 21rem;\r\nuser-select: none;`\r\n\r\n// how tf do i make this full height when editing\r\nconst InputStyle = styled.textarea`\r\n    flex-grow: 1;\r\n    overflow: hidden;\r\n    word-break: break-all;\r\n    min-height: 40px;\r\n    max-width: 17rem;\r\n    height: 40px;\r\n    resize: both;\r\n`;\r\n\r\nconst ButtonStyle = styled.button`\r\n    width: 40px;\r\n    min-width: 40px;\r\n    height: 40px;\r\n    float: right;\r\n    margin-left: 8px;\r\n    outline: none;\r\n    background: transparent no-repeat;\r\n    border: none;\r\n    border-radius: 50%;\r\n`;\r\n\r\nconst Title = props => {\r\n  const inputRef = useRef(null);\r\n  const [id, setID] = useState(props.colData.id);\r\n  const [title, setTitle] = useState(props.colData.title);\r\n  const [color, setColor] = useState(props.colData.color);\r\n  const [inputVisible, setInputVisible] = useState(false);\r\n  const update = props.updateHeader;\r\n  const deleteHandler = props.deleteHandler;\r\n\r\n  function updateColor(newColor) {\r\n    setColor(newColor);\r\n    update(id, title, newColor);\r\n  }\r\n  function onClickOutSide(e) {\r\n    if (inputRef.current && !inputRef.current.contains(e.target)) {\r\n      setInputVisible(false);\r\n      props.setEditing(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (inputVisible) document.addEventListener(\"mousedown\", onClickOutSide);\r\n    return () => { document.removeEventListener(\"mousedown\", onClickOutSide); };\r\n  });\r\n\r\n  useEffect(() => {\r\n    setID(props.colData.id);\r\n    setTitle(props.colData.title);\r\n    setColor(props.colData.color);\r\n  }, [props.colData]);\r\n\r\n  return (\r\n    <TitleStyle color={color}>\r\n      <React.Fragment>\r\n        {inputVisible ? (\r\n          <form style={{width: \"100%\", display: \"flex\", alignItems: \"center\"}} onSubmit={() => { setInputVisible(false); props.setEditing(false); }} ref={inputRef}>\r\n            <InputStyle\r\n              value={title}\r\n              onChange={e => {\r\n                setTitle(e.target.value);\r\n                update(id, e.target.value, color);\r\n              }}\r\n            />\r\n             <Dropdown autoClose=\"inside\" as={ButtonGroup} drop=\"right\" >\r\n              <Dropdown.Toggle id='color-toggle' variant=\"secondary\">\r\n                <Image src={palette} fluid alt='colors' style={{width: \"100%\", height: \"100%\"}}/>\r\n              </Dropdown.Toggle>\r\n              <Dropdown.Menu id='color-dropdown' variant=\"dark\">\r\n                <ColumnColorPicker color={color} updateColor={updateColor}/>\r\n                <Dropdown.Item id=\"delete-col-item\" onClick={() => { deleteHandler(id); }}>üóëÔ∏è DELETE COLUMN</Dropdown.Item>\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n          </form>\r\n        ) : (\r\n          <div style={{width: \"100%\", display: \"flex\", alignItems: \"center\"}}>\r\n            <div style={{color: \"white\", textShadow: \"0 0 4px black\", wordBreak: \"break-all\", flexGrow: \"1\", overflow: \"hidden\"}}>{title}</div>\r\n            <ButtonStyle onClick={() => { setInputVisible(true); props.setEditing(true); }}>\r\n              <Image src={tool} fluid alt='settings' style={{width: \"100%\", height: \"100%\"}}/>\r\n            </ButtonStyle> \r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    </TitleStyle>\r\n  );\r\n};\r\n\r\nexport default Title; ","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport Item from './Item';\r\nimport Title from './Title'\r\n\r\nconst Container = styled.div`\r\n  margin: 8px;\r\n  border: 3px solid black;\r\n  background-color: none;\r\n  border-radius: 4px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst ItemList = styled.div`\r\n  padding: 8px;\r\n  transition: background-color 0.2s ease;\r\n  background-color: ${props => props.isDraggingOver ? 'lightgrey' : 'none'};\r\n  flex-grow: 1;\r\n  min-width: 21rem;\r\n  min-height: 24rem;\r\n`;\r\n\r\nclass InnerList extends React.Component {\r\n  shouldComponentUpdate(nextProps) {\r\n    if (nextProps.items === this.props.items) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  render() {\r\n    return this.props.items.map((item, index) => (\r\n      <Item key={item.id} item={item} index={index} />\r\n    ));\r\n  }\r\n}\r\n\r\nexport default class Column extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isEditing: false\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Draggable draggableId={this.props.column.id} index={this.props.index} isDragDisabled={this.state.isEditing}>\r\n        {provided => (\r\n          <Container {...provided.draggableProps} ref={provided.innerRef}>\r\n            <div {...provided.dragHandleProps}>\r\n              <Title\r\n                colData={this.props.column}\r\n                updateHeader={this.props.updateHeader}\r\n                deleteHandler={this.props.deleteHandler}\r\n                setEditing={(e) => this.setState({ isEditing: e })}/>\r\n            </div>\r\n            <Droppable droppableId={this.props.column.id} type=\"item\">\r\n              {(provided, snapshot) => (\r\n                <ItemList\r\n                  ref={provided.innerRef}\r\n                  {...provided.droppableProps}\r\n                  isDraggingOver={snapshot.isDraggingOver}\r\n                >\r\n                  <InnerList items={this.props.items} />\r\n                  {provided.placeholder}\r\n                </ItemList>\r\n              )}\r\n            </Droppable>\r\n          </Container>\r\n        )}\r\n      </Draggable>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Droppable } from 'react-beautiful-dnd';\r\nimport Item from './Item';\r\n\r\nconst Container = styled.div`\r\n  margin: 8px;\r\n  border: 1px solid #1DB954;\r\n  background-color: none;\r\n  border-radius: 2px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 21.125rem;\r\n`;\r\n\r\nconst ItemList = styled.div`\r\n  padding: 8px;\r\n  transition: background-color 0.2s ease;\r\n  background-color: ${props => props.isDraggingOver ? 'lightgrey' : 'none'};\r\n  flex-grow: 1;\r\n  min-height: 16rem;\r\n`;\r\n\r\nclass InnerList extends React.Component {\r\n  shouldComponentUpdate(nextProps) {\r\n    if (nextProps.items === this.props.items) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  render() {\r\n    return this.props.items.map((item, index) => (\r\n      <Item key={item.id} item={item} index={index} />\r\n    ));\r\n  }\r\n}\r\n\r\nexport default class ItemPool extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1 className=\"main-heading\">Items</h1>\r\n        <Container>\r\n          <Droppable droppableId=\"item-pool\" type=\"item\">\r\n            {(provided, snapshot) => (\r\n              <ItemList\r\n                ref={provided.innerRef}\r\n                {...provided.droppableProps}\r\n                isDraggingOver={snapshot.isDraggingOver}\r\n              >\r\n                <InnerList items={this.props.items} />\r\n                {provided.placeholder}\r\n              </ItemList>\r\n            )}\r\n          </Droppable>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Droppable } from 'react-beautiful-dnd';\r\n\r\nconst Container = styled.div`\r\n  margin: 8px;\r\n  border: 1px solid #1DB954;\r\n  background-color: none;\r\n  border-radius: 2px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 21.2rem;\r\n`;\r\n\r\nconst ItemList = styled.div`\r\n  padding: 8px;\r\n  transition: background-color 0.2s ease;\r\n  background-color: ${props => props.isDraggingOver ? 'pink' : 'none'};\r\n  flex-grow: 1;\r\n  height: 5rem;\r\n`;\r\n\r\nexport default class TrashCan extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1 className=\"main-heading\">Trash Can</h1>\r\n        <Container>\r\n          <Droppable droppableId=\"trash-can\" type=\"item\">\r\n            {(provided, snapshot) => (\r\n                <ItemList\r\n                  ref={provided.innerRef}\r\n                  {...provided.droppableProps}\r\n                  isDraggingOver={snapshot.isDraggingOver}\r\n                >\r\n                  {provided.placeholder}\r\n                </ItemList>\r\n            )}\r\n          </Droppable>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\n\r\nexport const initialData = {\r\n  data: {\r\n    items: {},\r\n    columns: {\r\n      'column-1': {\r\n        id: 'column-1',\r\n        title: 'S',\r\n        color: 'purple',\r\n        itemIds: [],\r\n      },\r\n      'column-2': {\r\n        id: 'column-2',\r\n        title: 'A',\r\n        color: '#1DB954',\r\n        itemIds: [],\r\n      },\r\n      'column-3': {\r\n        id: 'column-3',\r\n        title: 'B',\r\n        color: 'blue',\r\n        itemIds: [],\r\n      },\r\n      'column-4': {\r\n        id: 'column-4',\r\n        title: 'C',\r\n        color: 'grey',\r\n        itemIds: [],\r\n      },\r\n      'item-pool': {\r\n        id: 'item-pool',\r\n        itemIds: [],\r\n      },\r\n      'trash-can': {\r\n        id: 'trash-can'\r\n      }\r\n    },\r\n    columnOrder: ['column-1', 'column-2', 'column-3','column-4']\r\n  },\r\n  containsItem: (id) => {},\r\n  addToItemPool: (id, type, songURL, imgURL, title, subtitle) => {},\r\n  deleteFromItemPool: (id, type) => {}\r\n}\r\n\r\nexport const TierListContext = React.createContext(initialData);","import axios from 'axios';\r\n\r\nexport const getParamValues = (url) => {\r\n  return url\r\n    .slice(1)\r\n    .split('&')\r\n    .reduce((prev, curr) => {\r\n      const [title, value] = curr.split('=');\r\n      prev[title] = value;\r\n      return prev;\r\n    }, {});\r\n};\r\n\r\nexport const setAuthHeader = () => {\r\n  try {\r\n    const params = JSON.parse(localStorage.getItem('params'));\r\n    if (params) {\r\n      axios.defaults.headers.common[\r\n        'Authorization'\r\n      ] = `Bearer ${params}`;\r\n    }\r\n  } catch (error) {\r\n    console.log('Error setting auth', error);\r\n  }\r\n};\r\n","import axios from 'axios';\r\nimport qs from 'qs';\r\nimport { setAuthHeader } from './functions';\r\n\r\nexport const get = async (url, params) => {\r\n  setAuthHeader();\r\n  const result = await axios.get(url, params);\r\n  return result.data;\r\n};\r\n\r\nexport const post = async (url, params) => {\r\n  setAuthHeader();\r\n  const result = await axios.post(url, params);\r\n  return result.data;\r\n};\r\n\r\nexport const getAuthToken = async () => {\r\n  const clientId = process.env.REACT_APP_CLIENT_ID;\r\n  const clientSecret = process.env.REACT_APP_CLIENT_SECRET;\r\n  \r\n  const headers = {\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n    auth: {\r\n      username: clientId,\r\n      password: clientSecret,\r\n    },\r\n  };\r\n  const data = {\r\n    grant_type: 'client_credentials',\r\n  };\r\n\r\n  try {\r\n    const response = await axios.post(\r\n      'https://accounts.spotify.com/api/token',\r\n      qs.stringify(data),\r\n      headers\r\n    );\r\n    return response.data;\r\n  } catch (error) { console.log(error); }\r\n};","import {\r\n  SET_ALBUMS,\r\n  ADD_ALBUMS,\r\n  SET_ARTISTS,\r\n  ADD_ARTISTS,\r\n  SET_TRACKS,\r\n  ADD_TRACKS\r\n} from '../utils/constants';\r\nimport { get } from '../utils/api';\r\n\r\nexport const setTracks = (tracks) => ({\r\n  type: SET_TRACKS,\r\n  tracks\r\n});\r\nexport const addTracks = (tracks) => ({\r\n  type: ADD_TRACKS,\r\n  tracks\r\n});\r\n\r\nexport const setAlbums = (albums) => ({\r\n  type: SET_ALBUMS,\r\n  albums\r\n});\r\nexport const addAlbums = (albums) => ({\r\n  type: ADD_ALBUMS,\r\n  albums\r\n});\r\n\r\nexport const setArtists = (artists) => ({\r\n  type: SET_ARTISTS,\r\n  artists\r\n});\r\nexport const addArtists = (artists) => ({\r\n  type: ADD_ARTISTS,\r\n  artists\r\n});\r\n\r\nexport const initiateGetResult = (searchTerm) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const API_URL = `https://api.spotify.com/v1/search?query=${encodeURIComponent(\r\n        searchTerm\r\n      )}&type=track,album,artist&limit=24`;\r\n      const result = await get(API_URL);\r\n      console.log(result);\r\n      const { tracks, albums, artists } = result;\r\n      dispatch(setTracks(tracks));\r\n      dispatch(setAlbums(albums));\r\n      return dispatch(setArtists(artists));\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const initiateLoadMoreTracks = (url) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      console.log('url', url);\r\n      const result = await get(url);\r\n      console.log('categories', result);\r\n      return dispatch(addTracks(result.tracks));\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const initiateLoadMoreAlbums = (url) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      console.log('url', url);\r\n      const result = await get(url);\r\n      console.log('categories', result);\r\n      return dispatch(addAlbums(result.albums));\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const initiateLoadMoreArtists = (url) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      console.log('url', url);\r\n      const result = await get(url);\r\n      console.log('categories', result);\r\n      return dispatch(addArtists(result.artists));\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  };\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Card, Container, Row, Col } from 'react-bootstrap';\r\nimport _ from 'lodash';\r\nimport music from '../images/music.jpeg';\r\nimport { TierListContext } from '../../tierlist/TierListContext';\r\n\r\nconst TracksList = ({ tracks }) => {\r\n  const [updater, setUpdater] = useState(false);\r\n  return (\r\n    <React.Fragment>\r\n      {Object.keys(tracks).length > 0 && (\r\n        <div className=\"tracks\">\r\n          {tracks.items.map((track, index) => {\r\n            let id = track.id, type = 'track', songURL = track.external_urls.spotify, title = track.name, subtitle = track.artists.map((artist) => artist.name).join(', ');\r\n            let imgURL = !_.isEmpty(track.album.images) ? track.album.images[0].url : null;\r\n            return (\r\n              <React.Fragment key={index}>\r\n                <TierListContext.Consumer>\r\n                  {({containsItem, addToItemPool, deleteFromItemPool}) => (\r\n                    <Card style={{maxWidth: \"22rem\", width: \"22rem\", marginLeft: \"0.5rem\", marginRight: \"0.5rem\"}}>\r\n                      <Container>\r\n                        <Row>\r\n                          <Col xs=\"auto\">\r\n                            <a\r\n                              target=\"_blank\"\r\n                              href={songURL}\r\n                              rel=\"noopener noreferrer\"\r\n                            >\r\n                              {!_.isEmpty(track.album.images) ? (\r\n                                <Card.Img src={imgURL} alt=\"\" />\r\n                              ) : (\r\n                                <img src={music} alt=\"\" />\r\n                              )}\r\n                            </a>\r\n                          </Col>\r\n                          <Col>\r\n                            <Card.Body>\r\n                              <Card.Title>{title}</Card.Title>\r\n                              <Card.Text>\r\n                                <small>{subtitle}</small>\r\n                              </Card.Text>\r\n                            </Card.Body>\r\n                          </Col>\r\n                          <Col xs=\"auto\">\r\n                            <div>\r\n                              {containsItem(id, type) ? (\r\n                                <button className=\"remove-buttons\" onClick={() => {\r\n                                  deleteFromItemPool(id, type);\r\n                                  setUpdater(!updater);\r\n                                }}>x</button>\r\n                              ) : (\r\n                                <button className=\"item-buttons\" onClick={() => {\r\n                                  addToItemPool(id, type, songURL, imgURL, title, subtitle);\r\n                                  setUpdater(!updater);\r\n                                }}>+</button>\r\n                              )}\r\n                            </div>\r\n                          </Col>\r\n                        </Row>\r\n                      </Container>\r\n                    </Card>\r\n                  )}\r\n                </TierListContext.Consumer>\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default TracksList;","import React, { useState } from 'react';\r\nimport { Card, Container, Row, Col } from 'react-bootstrap';\r\nimport _ from 'lodash';\r\nimport music from '../images/music.jpeg';\r\nimport { TierListContext } from '../../tierlist/TierListContext';\r\n\r\nconst AlbumsList = ({ albums }) => {\r\n  const [updater, setUpdater] = useState(false);\r\n  return (\r\n    <React.Fragment>\r\n      {Object.keys(albums).length > 0 && (\r\n        <div className=\"albums\">\r\n          {albums.items.map((album, index) => {\r\n            let id = album.id, type = 'album', songURL = album.external_urls.spotify, title = album.name, subtitle = album.artists.map((artist) => artist.name).join(', ');\r\n            let imgURL = !_.isEmpty(album.images) ? album.images[0].url : null;\r\n            return (\r\n              <React.Fragment key={index}>\r\n                <TierListContext.Consumer>\r\n                  {({containsItem, addToItemPool, deleteFromItemPool}) => (\r\n                    <Card style={{maxWidth: \"22rem\", width: \"22rem\", marginLeft: \"0.5rem\", marginRight: \"0.5rem\"}}>\r\n                      <Container>\r\n                        <Row>\r\n                          <Col xs=\"auto\">\r\n                            <a\r\n                              target=\"_blank\"\r\n                              href={songURL}\r\n                              rel=\"noopener noreferrer\"\r\n                            >\r\n                              {!_.isEmpty(album.images) ? (\r\n                                <Card.Img src={album.images[0].url} alt=\"\" />\r\n                              ) : (\r\n                                <img src={music} alt=\"\" />\r\n                              )}\r\n                            </a>\r\n                          </Col>\r\n                          <Col>\r\n                            <Card.Body>\r\n                              <Card.Title style={{margin: '0'}}>{title}</Card.Title>\r\n                              <Card.Text>\r\n                                <small>{subtitle}</small>\r\n                              </Card.Text>\r\n                            </Card.Body>\r\n                          </Col>\r\n                          <Col xs=\"auto\">\r\n                            <div>\r\n                              {containsItem(id, type) ? (\r\n                                <button className=\"remove-buttons\" onClick={() => {\r\n                                  deleteFromItemPool(id, type);\r\n                                  setUpdater(!updater);\r\n                                }}>x</button>\r\n                              ) : (\r\n                                <button className=\"item-buttons\" onClick={() => {\r\n                                  addToItemPool(id, type, songURL, imgURL, title, subtitle);\r\n                                  setUpdater(!updater);\r\n                                }}>+</button>\r\n                              )}\r\n                              <button className=\"item-buttons\">v</button>\r\n                            </div>\r\n                          </Col>\r\n                        </Row>\r\n                      </Container>\r\n                    </Card>\r\n                  )}\r\n                </TierListContext.Consumer>\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AlbumsList;","import React, { useState } from 'react';\r\nimport { Card, Container, Row, Col } from 'react-bootstrap';\r\nimport _ from 'lodash';\r\nimport music from '../images/music.jpeg';\r\nimport { TierListContext } from '../../tierlist/TierListContext';\r\n\r\nconst ArtistsList = ({ artists }) => {\r\n  const [updater, setUpdater] = useState(false);\r\n  return (\r\n    <React.Fragment>\r\n      {Object.keys(artists).length > 0 && (\r\n        <div className=\"artists\">\r\n          {artists.items.map((artist, index) => {\r\n            let id = artist.id, type = 'artist', songURL = artist.external_urls.spotify, title = artist.name, subtitle = null;\r\n            let imgURL = !_.isEmpty(artist.images) ? artist.images[0].url : null;\r\n            return (\r\n              <React.Fragment key={index}>\r\n                <TierListContext.Consumer>\r\n                  {({containsItem, addToItemPool, deleteFromItemPool}) => (\r\n                    <Card style={{maxWidth: \"22rem\", width: \"22rem\", marginLeft: \"0.5rem\", marginRight: \"0.5rem\"}}>\r\n                      <Container>\r\n                        <Row>\r\n                          <Col xs=\"auto\">\r\n                            <a\r\n                              target=\"_blank\"\r\n                              href={songURL}\r\n                              rel=\"noopener noreferrer\"\r\n                            >\r\n                              {!_.isEmpty(artist.images) ? (\r\n                                <Card.Img src={artist.images[0].url} alt=\"\" />\r\n                              ) : (\r\n                                <img src={music} alt=\"\" />\r\n                              )}\r\n                            </a>\r\n                          </Col>\r\n                          <Col>\r\n                            <Card.Body>\r\n                              <Card.Title style={{margin: '0'}}>{title}</Card.Title>\r\n                            </Card.Body>\r\n                          </Col>\r\n                          <Col xs=\"auto\">\r\n                            <div>\r\n                              {containsItem(id, type) ? (\r\n                                <button className=\"remove-buttons\" onClick={() => {\r\n                                  deleteFromItemPool(id, type);\r\n                                  setUpdater(!updater);\r\n                                }}>x</button>\r\n                              ) : (\r\n                                <button className=\"item-buttons\" onClick={() => {\r\n                                  addToItemPool(id, type, songURL, imgURL, title, subtitle);\r\n                                  setUpdater(!updater);\r\n                                }}>+</button>\r\n                              )}\r\n                              <button className=\"item-buttons\">v</button>\r\n                            </div>\r\n                          </Col>\r\n                        </Row>\r\n                      </Container>\r\n                    </Card>\r\n                  )}\r\n                </TierListContext.Consumer>\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ArtistsList;","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport _ from 'lodash';\r\nimport TracksList from './TracksList';\r\nimport AlbumsList from './AlbumsList';\r\nimport ArtistsList from './ArtistsList';\r\n\r\nconst SearchResult = (props) => {\r\n  const { loadMore, result, setCategory, selectedCategory } = props;\r\n  const { tracks, albums, artists } = result;\r\n  \r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"search-buttons\">\r\n        {!_.isEmpty(tracks.items) && (\r\n          <button\r\n            className={`${\r\n              selectedCategory === 'tracks' ? 'btn active' : 'btn'\r\n            }`}\r\n            onClick={() => setCategory('tracks')}\r\n          >\r\n            Songs\r\n          </button>\r\n        )}\r\n        {!_.isEmpty(albums.items) && (\r\n          <button\r\n            className={`${\r\n              selectedCategory === 'albums' ? 'btn active' : 'btn'\r\n            }`}\r\n            onClick={() => setCategory('albums')}\r\n          >\r\n            Albums\r\n          </button>\r\n        )}\r\n        {!_.isEmpty(artists.items) && (\r\n          <button\r\n            className={`${\r\n              selectedCategory === 'artists' ? 'btn active' : 'btn'\r\n            }`}\r\n            onClick={() => setCategory('artists')}\r\n          >\r\n            Artists\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className={`${selectedCategory === 'tracks' ? '' : 'hide'}`}>\r\n        {albums && <TracksList tracks={tracks} />}\r\n      </div>\r\n      <div className={`${selectedCategory === 'albums' ? '' : 'hide'}`}>\r\n        {albums && <AlbumsList albums={albums} />}\r\n      </div>\r\n      <div className={`${selectedCategory === 'artists' ? '' : 'hide'}`}>\r\n        {artists && <ArtistsList artists={artists} />}\r\n      </div>\r\n\r\n      {!_.isEmpty(result[selectedCategory]) &&\r\n       !_.isEmpty(result[selectedCategory].next) && (\r\n        <div className=\"load-more\">\r\n          <Button variant=\"info\" type=\"button\" onClick={() => loadMore(selectedCategory)}>\r\n            Load More\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SearchResult;","import React, { useState } from 'react';\r\nimport { Form } from 'react-bootstrap';\r\n\r\nconst SearchForm = (props) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n\r\n  const handleInputChange = (event) => {\r\n    const searchTerm = event.target.value;\r\n    setSearchTerm(searchTerm);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    event.preventDefault();\r\n    if (searchTerm.trim() !== '') {\r\n      setErrorMsg('');\r\n      props.handleSearch(searchTerm);\r\n    } else {\r\n      setErrorMsg('Please enter a search term.');\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      <Form onSubmit={handleSearch}>\r\n        {errorMsg && <p className=\"errorMsg\">{errorMsg}</p>}\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Control\r\n            type=\"search\"\r\n            name=\"searchTerm\"\r\n            value={searchTerm}\r\n            placeholder=\"Search here!\"\r\n            onChange={handleInputChange}\r\n            autoComplete=\"off\"\r\n          />\r\n        </Form.Group>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchForm;","import React from 'react';\r\n\r\nconst Header = () => {\r\n  return <h1 className=\"main-heading\" style={{marginBottom: \"8px\"}}>Search</h1>;\r\n};\r\n\r\nexport default Header;\r\n","import { useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nconst Loader = (props) => {\r\n  const [node] = useState(document.createElement('div'));\r\n  const loader = document.querySelector('#loader');\r\n\r\n  useEffect(() => {\r\n    loader.appendChild(node).classList.add('message');\r\n  }, [loader, node]);\r\n\r\n  useEffect(() => {\r\n    if (props.show) {\r\n      loader.classList.remove('hide');\r\n      document.body.classList.add('loader-open');\r\n    } else {\r\n      loader.classList.add('hide');\r\n      document.body.classList.remove('loader-open');\r\n    }\r\n  }, [loader, props.show]);\r\n\r\n  return ReactDOM.createPortal(props.children, node);\r\n};\r\nexport default Loader;","import React, { useState } from 'react';\r\nimport {\r\n  initiateGetResult,\r\n  initiateLoadMoreTracks,\r\n  initiateLoadMoreAlbums,\r\n  initiateLoadMoreArtists\r\n} from '../actions/result';\r\nimport { connect } from 'react-redux';\r\nimport SearchResult from './SearchResult';\r\nimport SearchForm from './SearchForm';\r\nimport Header from './Header';\r\nimport Loader from './Loader';\r\n\r\nconst Dashboard = (props) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [selectedCategory, setSelectedCategory] = [props.selectedCategory, props.updateCategory];\r\n  const { isValidSession, refreshSession } = props;\r\n\r\n  const handleSearch = async (searchTerm) => {\r\n    setIsLoading(true);\r\n    if (!isValidSession()) {\r\n      try { await refreshSession(); } \r\n      catch(error) { console.log(error); }\r\n    }\r\n    props.dispatch(initiateGetResult(searchTerm)).then(() => {\r\n      setIsLoading(false);\r\n    });\r\n  };\r\n\r\n  const loadMore = async (type) => {\r\n    const { dispatch, tracks, albums, artists } = props;\r\n    setIsLoading(true);\r\n    if (!isValidSession()) {\r\n      try { await refreshSession(); }\r\n      catch(error) { console.log(error); }\r\n    }\r\n    switch (type) {\r\n      case 'tracks':\r\n        await dispatch(initiateLoadMoreTracks(tracks.next));\r\n        break;\r\n      case 'albums':\r\n        await dispatch(initiateLoadMoreAlbums(albums.next));\r\n        break;\r\n      case 'artists':\r\n        await dispatch(initiateLoadMoreArtists(artists.next));\r\n        break;\r\n      default:\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const setCategory = (category) => { setSelectedCategory(category); };\r\n\r\n  const { tracks, albums, artists } = props;\r\n  const result = { tracks, albums, artists };\r\n  \r\n  return (\r\n    <React.Fragment>\r\n      <div>\r\n        <Header />\r\n        <SearchForm handleSearch={handleSearch} />\r\n        <Loader show={isLoading}>Loading...</Loader>\r\n        <SearchResult\r\n          result={result}\r\n          loadMore={loadMore}\r\n          setCategory={setCategory}\r\n          selectedCategory={selectedCategory}\r\n        />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    tracks: state.tracks,\r\n    albums: state.albums,\r\n    artists: state.artists\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Dashboard);","import React from 'react';\r\nimport Dashboard from './components/Dashboard';\r\nimport { getAuthToken } from './utils/api';\r\n\r\nclass SidebarSearch extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = { loaded: false, selectedCategory: 'tracks' };\r\n    }\r\n\r\n    updateCategory = (category) => {\r\n      const newState = {\r\n        ...this.state,\r\n        selectedCategory: category\r\n      };\r\n      this.setState(newState);\r\n    }\r\n    \r\n    refreshSession = async () => {\r\n        let result;\r\n        try{ result = await getAuthToken(); } \r\n        catch(error) { console.log(error); }\r\n        if(result) {\r\n          const {\r\n              access_token,\r\n              expires_in\r\n          } = result;\r\n          localStorage.setItem('params', JSON.stringify(access_token));\r\n          localStorage.setItem('expiry_time', new Date().getTime() + expires_in * 1000);\r\n          if(!this.loaded) this.setState({ loaded: true });\r\n        }\r\n    }\r\n    \r\n    isValidSession = () => {\r\n        let expiryTime;\r\n        try { expiryTime = JSON.parse(localStorage.getItem('expiry_time')); } \r\n        catch(error) { expiryTime = '0'; }\r\n        const currentTime = new Date().getTime();\r\n        if(currentTime >= expiryTime && this.loaded) this.setState({ loaded: false });\r\n        return currentTime < expiryTime;\r\n    };\r\n\r\n    render() {\r\n        if(!this.isValidSession()) {\r\n          this.refreshSession();\r\n          return (\r\n            <div className=\"sidebar-search\">\r\n              Loading...\r\n            </div>\r\n          );\r\n        }\r\n        return (\r\n          <div className=\"sidebar-search\">\r\n            <Dashboard key={this.props.refreshSidebar} isValidSession={this.isValidSession} refreshSession={this.refreshSession}\r\n              selectedCategory={this.state.selectedCategory} updateCategory={this.updateCategory} />\r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SidebarSearch;","import React from 'react';\r\nimport '@atlaskit/css-reset';\r\nimport styled from 'styled-components';\r\nimport Column from './components/Column';\r\nimport ItemPool from './components/ItemPool';\r\nimport TrashCan from './components/TrashCan';\r\nimport { TierListContext } from './TierListContext';\r\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\r\nimport { toSvg } from 'html-to-image';\r\nimport SidebarSearch from '../sidebar/SidebarSearch'\r\nimport './tierlist-styles.css';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nclass InnerList extends React.PureComponent {\r\n  render() {\r\n    const { column, itemMap, index, updateHeader, deleteHandler } = this.props;\r\n    const items = column.itemIds.map(itemId => itemMap[itemId]);\r\n    return <Column column={column} items={items} index={index} updateHeader={updateHeader} deleteHandler={deleteHandler}/>;\r\n  }\r\n}\r\n\r\nlet refreshSidebar = false;\r\nlet refreshColumns = false;\r\n\r\nclass TierList extends React.Component {\r\n  static contextType = TierListContext;\r\n  state = this.context.data;\r\n\r\n  componentDidMount() {\r\n    this.context.containsItem = (id, type) => {\r\n      if(id in this.state.items) {\r\n        return this.state.items[id]['type'] === type;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    this.context.addToItemPool = (id, type, songURL, imgURL, title, subtitle) => {\r\n      if(this.context.containsItem(id, type)) return; // do nothing\r\n      const newItems = {\r\n        ...this.state.items,\r\n        [id]: {\r\n          id: id,\r\n          type: type,\r\n          songURL: songURL,\r\n          imgURL: imgURL,\r\n          title: title,\r\n          subtitle: subtitle\r\n        }\r\n      }\r\n      const newItemIds = Array.from(this.state.columns['item-pool'].itemIds).concat(id);\r\n      const newItemPool = {\r\n        ...this.state.columns['item-pool'],\r\n        itemIds: newItemIds\r\n      }\r\n      const newState = {\r\n        ...this.state,\r\n        items: newItems,\r\n        columns: {\r\n          ...this.state.columns,\r\n          'item-pool': newItemPool\r\n        }\r\n      };\r\n      this.setState(newState);\r\n    };\r\n    \r\n    this.context.deleteFromItemPool = (id, type) => {\r\n      if(!this.context.containsItem(id, type)) return; // do nothing\r\n      let newItems = this.state.items;\r\n      delete newItems[id];\r\n\r\n      let newColumns = this.state.columns;\r\n      Object.keys(newColumns).forEach(function(key) {\r\n        if(key === 'trash-can') return;\r\n        const delIndex = newColumns[key].itemIds.indexOf(id);\r\n        if(delIndex !== -1) newColumns[key].itemIds.splice(delIndex, 1);\r\n      });\r\n\r\n      const newState = {\r\n        ...this.state,\r\n        items: newItems,\r\n        columns: newColumns\r\n      }\r\n      console.log(newState);\r\n      refreshColumns = !refreshColumns;\r\n      this.setState(newState);\r\n    }\r\n  }\r\n\r\n  // uh-oh this might be buggy\r\n  importFromJson = e => {\r\n    const fileReader = new FileReader();\r\n    fileReader.readAsText(e.target.files[0], \"UTF-8\");\r\n    fileReader.onload = e => {\r\n      const newState = JSON.parse(e.target.result);\r\n      // check if the required keys exist and the item-pool and trash-can exists in column and has the correct format\r\n      if(!('columnOrder' in newState && 'items' in newState && 'columns' in newState\r\n      && 'item-pool' in newState.columns && 'trash-can' in newState.columns\r\n      && 'id' in newState.columns['item-pool'] && newState.columns['item-pool'].id === 'item-pool'\r\n      && 'itemIds' in newState.columns['item-pool'] && Array.isArray(newState.columns['item-pool'].itemIds)\r\n      && 'id' in newState.columns['trash-can'] && newState.columns['trash-can'].id === 'trash-can')) {\r\n        console.log('missing required information!');\r\n        return;\r\n      }\r\n\r\n      // check if every column has the correct format\r\n      let hasValidColumns = true;\r\n      const requiredColumnKeys = ['id', 'title', 'color', 'itemIds'];\r\n      Object.keys(newState.columns).forEach(function(key) {\r\n        if(!hasValidColumns || key === 'item-pool' || key === 'trash-can') return;\r\n        const columnKeys = Object.keys(newState.columns[key]);\r\n        hasValidColumns = columnKeys.length === requiredColumnKeys.length && columnKeys.every(function(v, i) { return v === requiredColumnKeys[i]});\r\n      });\r\n      if(!hasValidColumns) {\r\n        console.log('missing required column information!');\r\n        return;\r\n      }\r\n\r\n      // check if every column in columnOrder exists in column (and no extra besides item-pool and trash-can)\r\n      const columnOrder = newState.columnOrder;\r\n      let allColumns = Object.keys(newState.columns);\r\n      allColumns.splice(allColumns.indexOf('item-pool'), 1);\r\n      allColumns.splice(allColumns.indexOf('trash-can'), 1);\r\n      if(!(columnOrder.length === allColumns.length && columnOrder.every(el => allColumns.includes(el)))) {\r\n        console.log('columnOrder and columns don\\'t match!');\r\n        return;\r\n      }\r\n\r\n      // check if every item in items has the correct format\r\n      let hasValidItems = true;\r\n      const requiredItemKeys = ['id', 'type', 'songURL', 'imgURL', 'title', 'subtitle'];\r\n      Object.keys(newState.items).forEach(function(key) {\r\n        if(!hasValidItems) return;\r\n        const itemKeys = Object.keys(newState.items[key]);\r\n        hasValidItems = itemKeys.length === requiredItemKeys.length && itemKeys.every(function(v, i) { return v === requiredItemKeys[i]});\r\n      });\r\n      if(!hasValidItems) {\r\n        console.log('missing required item information!');\r\n        return;\r\n      }\r\n\r\n      // check if every itemIDs exists in items (and no extra)\r\n      const allItems = Object.keys(newState.items);\r\n      let itemIds = [];\r\n      Object.keys(newState.columns).forEach(function(key) {\r\n        if(key === 'trash-can') return;\r\n        itemIds = itemIds.concat(newState.columns[key].itemIds);\r\n      });\r\n      if(!(itemIds.length === allItems.length && itemIds.every(el => allItems.includes(el)))) {\r\n        console.log('items and itemIds don\\'t match!');\r\n        return;\r\n      }\r\n\r\n      // success\r\n      refreshSidebar = !refreshSidebar;\r\n      this.setState(newState);\r\n      console.log(this.state);\r\n    };\r\n  }\r\n\r\n  saveAsSVG() {\r\n    toSvg(document.getElementById('tierlist_all'), {backgroundColor: '#121212'})\r\n      .then((dataUrl) => {\r\n        const link = document.createElement('a');\r\n        link.download = 'tierlist.svg';\r\n        link.href = dataUrl;\r\n        link.click();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  deleteItem = (id, source, home) => {\r\n    const homeitemIds = Array.from(home.itemIds);\r\n    homeitemIds.splice(source.index, 1);\r\n    const newHome = {\r\n      ...home,\r\n      itemIds: homeitemIds,\r\n    };\r\n\r\n    const oldItems = this.state.items;\r\n    const newItems = Object.keys(oldItems).reduce((object, key) => {\r\n      if (key !== id) {\r\n        object[key] = oldItems[key];\r\n      }\r\n      return object;\r\n    }, {});\r\n\r\n    const newState = {\r\n      ...this.state,\r\n      items: newItems,\r\n      columns: {\r\n        ...this.state.columns,\r\n        [newHome.id]: newHome,\r\n      },\r\n    };\r\n\r\n    refreshSidebar = !refreshSidebar;\r\n    this.setState(newState);\r\n  }\r\n\r\n  updateColHeader = (id, newTitle, newColor) => {\r\n    const oldHeader = this.state.columns[id];\r\n    const newHeader = {\r\n      ...oldHeader,\r\n      title: newTitle,\r\n      color: newColor\r\n    };\r\n    const newState = {\r\n      ...this.state,\r\n      columns: {\r\n        ...this.state.columns,\r\n        [id]: newHeader\r\n      }\r\n    };\r\n    this.setState(newState);\r\n  }\r\n\r\n  removeCol = (id) => {\r\n    const newColumnOrder = Array.from(this.state.columnOrder);\r\n    newColumnOrder.splice(newColumnOrder.indexOf(id), 1);\r\n\r\n    const oldColumns = this.state.columns;\r\n    const newColumns = Object.keys(oldColumns).reduce((object, key) => {\r\n      if (key !== id) {\r\n        object[key] = oldColumns[key];\r\n      }\r\n      return object;\r\n    }, {});\r\n\r\n    const newState = {\r\n      ...this.state,\r\n      columns: newColumns,\r\n      columnOrder: newColumnOrder,\r\n    };\r\n    this.setState(newState);\r\n  }\r\n\r\n  onDragEnd = result => {\r\n    const { destination, source, draggableId, type } = result;\r\n\r\n    if (!destination) return;\r\n    if (destination.droppableId === source.droppableId && destination.index === source.index) return;\r\n\r\n    if (type === 'column') {\r\n      const newColumnOrder = Array.from(this.state.columnOrder);\r\n      newColumnOrder.splice(source.index, 1);\r\n      newColumnOrder.splice(destination.index, 0, draggableId);\r\n\r\n      const newState = {\r\n        ...this.state,\r\n        columnOrder: newColumnOrder\r\n      };\r\n      this.setState(newState);\r\n      return;\r\n    }\r\n\r\n    const home = this.state.columns[source.droppableId];\r\n    const foreign = this.state.columns[destination.droppableId];\r\n    \r\n    if (destination.droppableId === 'trash-can') {\r\n      this.deleteItem(draggableId, source, home);\r\n      return;\r\n    }\r\n\r\n    if (home === foreign) {\r\n      const newitemIds = Array.from(home.itemIds);\r\n      newitemIds.splice(source.index, 1);\r\n      newitemIds.splice(destination.index, 0, draggableId);\r\n\r\n      const newHome = {\r\n        ...home,\r\n        itemIds: newitemIds\r\n      };\r\n\r\n      const newState = {\r\n        ...this.state,\r\n        columns: {\r\n          ...this.state.columns,\r\n          [newHome.id]: newHome\r\n        }\r\n      };\r\n\r\n      this.setState(newState);\r\n      return;\r\n    }\r\n\r\n    // moving from one list to another\r\n    const homeitemIds = Array.from(home.itemIds);\r\n    homeitemIds.splice(source.index, 1);\r\n    const newHome = {\r\n      ...home,\r\n      itemIds: homeitemIds,\r\n    };\r\n\r\n    const foreignitemIds = Array.from(foreign.itemIds);\r\n    foreignitemIds.splice(destination.index, 0, draggableId);\r\n    const newForeign = {\r\n      ...foreign,\r\n      itemIds: foreignitemIds,\r\n    };\r\n\r\n    const newState = {\r\n      ...this.state,\r\n      columns: {\r\n        ...this.state.columns,\r\n        [newHome.id]: newHome,\r\n        [newForeign.id]: newForeign,\r\n      },\r\n    };\r\n    this.setState(newState);\r\n  };\r\n\r\n  addNewGroup = () => {\r\n    const ID = `column-${new Date().getTime()}`;\r\n    const newColumnOrder = Array.from(this.state.columnOrder).concat(ID);\r\n    const newState = {\r\n      ...this.state,\r\n      columnOrder: newColumnOrder\r\n    };\r\n    newState['columns'][ID] = {\r\n      id: ID,\r\n      title: 'NEW',\r\n      color: '#1DB954',\r\n      itemIds: [],\r\n    };\r\n    this.setState(newState);\r\n  }\r\n\r\n  resetAllItems = () => {\r\n    let newColumns = this.state.columns;\r\n    Object.keys(newColumns).forEach(function(key) {\r\n      if(key === 'trash-can' || key === 'item-pool') return;\r\n      newColumns['item-pool'].itemIds = newColumns['item-pool'].itemIds.concat(newColumns[key].itemIds);\r\n      newColumns[key].itemIds = [];\r\n    });\r\n\r\n    const newState = {\r\n      ...this.state,\r\n      columns: newColumns\r\n    };\r\n    refreshColumns = !refreshColumns;\r\n    this.setState(newState);\r\n  }\r\n\r\n  removeAllItems = () => {\r\n    this.resetAllItems();\r\n    const newState = {\r\n      ...this.state,\r\n      columns: {\r\n        ...this.state.columns,\r\n        'item-pool': {\r\n          id: 'item-pool',\r\n          itemIds: [],\r\n        }\r\n      },\r\n      items: {},\r\n    };\r\n    refreshSidebar = !refreshSidebar;\r\n    this.setState(newState);\r\n  }\r\n\r\n  resetAllColumns = () => {\r\n    this.resetAllItems();\r\n    const newState = {\r\n      ...this.state,\r\n      columns: {\r\n        ...this.state.columns,\r\n        'column-1': {\r\n          id: 'column-1',\r\n          title: 'S',\r\n          color: 'purple',\r\n          itemIds: [],\r\n        },\r\n        'column-2': {\r\n          id: 'column-2',\r\n          title: 'A',\r\n          color: '#1DB954',\r\n          itemIds: [],\r\n        },\r\n        'column-3': {\r\n          id: 'column-3',\r\n          title: 'B',\r\n          color: 'blue',\r\n          itemIds: [],\r\n        },\r\n        'column-4': {\r\n          id: 'column-4',\r\n          title: 'C',\r\n          color: 'grey',\r\n          itemIds: [],\r\n        }\r\n      },\r\n      columnOrder: ['column-1', 'column-2', 'column-3','column-4']\r\n    }\r\n    refreshColumns = !refreshColumns;\r\n    this.setState(newState);\r\n  }\r\n\r\n  resetTierList = () => {\r\n    this.resetAllItems();\r\n    const newState = {\r\n      ...this.state,\r\n      columns: {\r\n        ...this.state.columns,\r\n        'column-1': {\r\n          id: 'column-1',\r\n          title: 'S',\r\n          color: 'purple',\r\n          itemIds: [],\r\n        },\r\n        'column-2': {\r\n          id: 'column-2',\r\n          title: 'A',\r\n          color: '#1DB954',\r\n          itemIds: [],\r\n        },\r\n        'column-3': {\r\n          id: 'column-3',\r\n          title: 'B',\r\n          color: 'blue',\r\n          itemIds: [],\r\n        },\r\n        'column-4': {\r\n          id: 'column-4',\r\n          title: 'C',\r\n          color: 'grey',\r\n          itemIds: [],\r\n        },\r\n        'item-pool': {\r\n          id: 'item-pool',\r\n          itemIds: [],\r\n        }\r\n      },\r\n      items: {},\r\n      columnOrder: ['column-1', 'column-2', 'column-3','column-4']\r\n    };\r\n    \r\n    refreshColumns = !refreshColumns;\r\n    refreshSidebar = !refreshSidebar;\r\n    this.setState(newState);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <DragDropContext onDragEnd={this.onDragEnd}>\r\n          <Container>\r\n            <button type=\"button\" onClick={this.addNewGroup}>Add new group</button>\r\n            <button type=\"button\" onClick={this.resetAllItems}>Reset All Items</button>\r\n            <button type=\"button\" onClick={this.removeAllItems}>Remove All Items</button>\r\n            <button type=\"button\" onClick={this.resetAllColumns}>Reset All Columns</button>\r\n            <button type=\"button\" onClick={this.resetTierList}>Reset TierList</button>\r\n            <a\r\n              href={`data:text/json;charset=utf-8,${encodeURIComponent(\r\n                JSON.stringify(this.state)\r\n              )}`}\r\n              download=\"tierlist.json\"\r\n            >\r\n              {`Export as Json`}\r\n            </a>\r\n            <div>\r\n              <label htmlFor=\"import_tierlist\">Import from Json</label>\r\n              <input type=\"file\" id=\"import_tierlist\" name=\"import_tierlist\" accept=\".json\" onChange={this.importFromJson}/>\r\n            </div>\r\n            <button type=\"button\" onClick={this.saveAsSVG}>Save as .svg</button>\r\n            <TrashCan />\r\n          </Container>\r\n\r\n          <Container>\r\n            <Droppable droppableId=\"tiers\" direction=\"horizontal\" type=\"column\">\r\n              {provided => (\r\n                <Container\r\n                  {...provided.droppableProps}\r\n                  ref={provided.innerRef}\r\n                  id=\"tierlist_all\"\r\n                  key={refreshColumns}\r\n                >\r\n                  {this.state.columnOrder.map((columnId, index) => {\r\n                    const column = this.state.columns[columnId];\r\n                    return (\r\n                      <InnerList\r\n                        key={column.id}\r\n                        column={column}\r\n                        itemMap={this.state.items}\r\n                        index={index}\r\n                        updateHeader={this.updateColHeader}\r\n                        deleteHandler={this.removeCol}\r\n                      />\r\n                    );\r\n                  })}\r\n                  {provided.placeholder}\r\n                </Container>\r\n              )}\r\n            </Droppable>\r\n          </Container>\r\n\r\n          <Container>\r\n            <ItemPool items = {this.state.columns['item-pool'].itemIds.map(itemId => this.state.items[itemId])} />\r\n            <SidebarSearch refreshSidebar={refreshSidebar}/>\r\n          </Container>\r\n        </DragDropContext>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TierList","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store/store';\nimport TierList from './tierlist/TierList';\nimport { TierListContext, initialData } from './tierlist/TierListContext';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './sidebar-styles.css';\n\nReactDOM.render(\n  <TierListContext.Provider value = {initialData}>\n    <h1 className=\"main-heading\">Spotify Tier List Maker (under construction)</h1>\n    <Provider store={store}>\n      <TierList/>\n    </Provider>\n  </TierListContext.Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}