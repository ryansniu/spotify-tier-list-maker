(this["webpackJsonpspotify-tier-list-maker"]=this["webpackJsonpspotify-tier-list-maker"]||[]).push([[0],{15:function(t,e,s){},16:function(t,e,s){},17:function(t,e,s){},18:function(t,e,s){"use strict";s.r(e);var n=s(0),a=s(1),i=s.n(a),r=s(4),c=s.n(r),o=(s(15),s(5)),l=s(6),u=s(2),d=s(9),p=s(8),m=s(7),g=["user-read-currently-playing","user-read-playback-state"],h=window.location.hash.substring(1).split("&").reduce((function(t,e){if(e){var s=e.split("=");t[s[0]]=decodeURIComponent(s[1])}return t}),{});window.location.hash="";var j=h,y=(s(16),function(t){var e={backgroundImage:"url(".concat(t.item.album.images[0].url,")")},s={width:100*t.progress_ms/t.item.duration_ms+"%"};return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{className:"main-wrapper",children:[Object(n.jsx)("div",{className:"now-playing__img",children:Object(n.jsx)("img",{src:t.item.album.images[0].url})}),Object(n.jsxs)("div",{className:"now-playing__side",children:[Object(n.jsx)("div",{className:"now-playing__name",children:t.item.name}),Object(n.jsx)("div",{className:"now-playing__artist",children:t.item.artists[0].name}),Object(n.jsx)("div",{className:"now-playing__status",children:t.is_playing?"Playing":"Paused"}),Object(n.jsx)("div",{className:"progress",children:Object(n.jsx)("div",{className:"progress__bar",style:s})})]}),Object(n.jsx)("div",{className:"background",style:e})," "]})})}),b=s.p+"static/media/logo.6ce24c58.svg",_=(s(17),function(t){Object(d.a)(s,t);var e=Object(p.a)(s);function s(){var t;return Object(o.a)(this,s),(t=e.call(this)).state={token:null,item:{album:{images:[{url:""}]},name:"",artists:[{name:""}],duration_ms:0},is_playing:"Paused",progress_ms:0,no_data:!1},t.getCurrentlyPlaying=t.getCurrentlyPlaying.bind(Object(u.a)(t)),t.tick=t.tick.bind(Object(u.a)(t)),t}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var t=this,e=j.access_token;e&&(this.setState({token:e}),this.getCurrentlyPlaying(e)),this.interval=setInterval((function(){return t.tick()}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"tick",value:function(){this.state.token&&this.getCurrentlyPlaying(this.state.token)}},{key:"getCurrentlyPlaying",value:function(t){var e=this;m.ajax({url:"https://api.spotify.com/v1/me/player",type:"GET",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+t)},success:function(t){t?e.setState({item:t.item,is_playing:t.is_playing,progress_ms:t.progress_ms,no_data:!1}):e.setState({no_data:!0})}})}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("header",{className:"App-header",children:[Object(n.jsx)("img",{src:b,className:"App-logo",alt:"logo"}),!this.state.token&&Object(n.jsx)("a",{className:"btn btn--loginApp-link",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("2d6518050da043db89266dc384c2a3c2","&redirect_uri=").concat("https://ryansniu.github.io/spotify-tier-list-maker/#","&scope=").concat(g.join("%20"),"&response_type=token&show_dialog=true"),children:"Login to Spotify"}),this.state.token&&!this.state.no_data&&Object(n.jsx)(y,{item:this.state.item,is_playing:this.state.is_playing,progress_ms:this.state.progress_ms}),this.state.no_data&&Object(n.jsx)("p",{children:"You need to be playing a song on Spotify, for something to appear here."})]})})}}]),s}(a.Component)),v=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,19)).then((function(e){var s=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,r=e.getTTFB;s(t),n(t),a(t),i(t),r(t)}))};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(_,{})}),document.getElementById("root")),v()}},[[18,1,2]]]);
//# sourceMappingURL=main.692fe16c.chunk.js.map