(this["webpackJsonpspotify-tier-list-maker"]=this["webpackJsonpspotify-tier-list-maker"]||[]).push([[0],{82:function(e,t,r){},84:function(e,t,r){},85:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(0),c=r.n(a),s=r(15),i=r.n(s),l=r(86),o=r(87),u=r(47),j=r(16),d=r(11),b=r(43),p=r(13),h=r(7),x="SET_TRACKS",O="ADD_TRACKS",f="SET_ALBUMS",m="ADD_ALBUMS",v="SET_ARTISTS",g="ADD_ARTISTS",y="SET_PLAYLIST",k="ADD_PLAYLIST",S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.tracks;switch(t.type){case x:return r;case O:return Object(h.a)(Object(h.a)({},e),{},{next:r.next,items:[].concat(Object(p.a)(e.items),Object(p.a)(r.items))});default:return e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.albums;switch(t.type){case f:return r;case m:return Object(h.a)(Object(h.a)({},e),{},{next:r.next,items:[].concat(Object(p.a)(e.items),Object(p.a)(r.items))});default:return e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.artists;switch(t.type){case v:return r;case g:return Object(h.a)(Object(h.a)({},e),{},{next:r.next,items:[].concat(Object(p.a)(e.items),Object(p.a)(r.items))});default:return e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.playlists;switch(t.type){case y:return r;case k:return Object(h.a)(Object(h.a)({},e),{},{next:r.next,items:[].concat(Object(p.a)(e.items),Object(p.a)(r.items))});default:return e}},E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,N=Object(d.e)(Object(d.c)({tracks:S,albums:w,artists:_,playlist:T}),E(Object(d.a)(b.a))),I=r(6),C=r.n(I),D=r(9),A=r(44),L=r(45),B=r(49),F=r(48),P=r(12),R=r(20),M=r.n(R),G=r(46),V=r.n(G),H=function(){try{var e=JSON.parse(localStorage.getItem("params"));e&&(M.a.defaults.headers.common.Authorization="Bearer ".concat(e))}catch(t){console.log("Error setting auth",t)}},J=function(){var e=Object(D.a)(C.a.mark((function e(t,r){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(),e.next=3,M.a.get(t,r);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),U=function(){var e=Object(D.a)(C.a.mark((function e(){var t,r,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"2d6518050da043db89266dc384c2a3c2","79747dd7e39645f0b19ff179ff55a075",t={headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},auth:{username:"2d6518050da043db89266dc384c2a3c2",password:"79747dd7e39645f0b19ff179ff55a075"}},r={grant_type:"client_credentials"},e.prev=4,e.next=7,M.a.post("https://accounts.spotify.com/api/token",V.a.stringify(r),t);case 7:return n=e.sent,e.abrupt("return",n.data);case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),q=function(e){return{type:x,tracks:e}},K=function(e){return{type:f,albums:e}},X=function(e){return{type:v,artists:e}},Y=function(e){return{type:y,playlists:e}},z=function(e){return function(){var t=Object(D.a)(C.a.mark((function t(r){var n,a,c,s,i,l;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="https://api.spotify.com/v1/search?query=".concat(encodeURIComponent(e),"&type=track,album,artist,playlist"),t.next=4,J(n);case 4:return a=t.sent,console.log(a),c=a.tracks,s=a.albums,i=a.artists,l=a.playlists,r(q(c)),r(K(s)),r(X(i)),t.abrupt("return",r(Y(l)));case 13:t.prev=13,t.t0=t.catch(0),console.log("error",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},Q=function(e){return function(){var t=Object(D.a)(C.a.mark((function t(r){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("url",e),t.next=4,J(e);case 4:return n=t.sent,console.log("categoriess",n),t.abrupt("return",r((a=n.tracks,{type:O,tracks:a})));case 9:t.prev=9,t.t0=t.catch(0),console.log("error",t.t0);case 12:case"end":return t.stop()}var a}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},W=function(e){return function(){var t=Object(D.a)(C.a.mark((function t(r){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("url",e),t.next=4,J(e);case 4:return n=t.sent,console.log("categoriess",n),t.abrupt("return",r((a=n.albums,{type:m,albums:a})));case 9:t.prev=9,t.t0=t.catch(0),console.log("error",t.t0);case 12:case"end":return t.stop()}var a}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Z=function(e){return function(){var t=Object(D.a)(C.a.mark((function t(r){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("url",e),t.next=4,J(e);case 4:return n=t.sent,console.log("categoriess",n),t.abrupt("return",r((a=n.artists,{type:g,artists:a})));case 9:t.prev=9,t.t0=t.catch(0),console.log("error",t.t0);case 12:case"end":return t.stop()}var a}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},$=function(e){return function(){var t=Object(D.a)(C.a.mark((function t(r){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("url",e),t.next=4,J(e);case 4:return n=t.sent,console.log("categoriess",n),t.abrupt("return",r((a=n.playlists,{type:k,playlists:a})));case 9:t.prev=9,t.t0=t.catch(0),console.log("error",t.t0);case 12:case"end":return t.stop()}var a}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ee=r(90),te=r(8),re=r.n(te),ne=r(89),ae=r.p+"static/media/music.b2fe7d4d.jpeg",ce=function(e){var t=e.tracks;return Object(n.jsx)(c.a.Fragment,{children:Object.keys(t).length>0&&Object(n.jsx)("div",{className:"tracks",children:t.items.map((function(e,t){return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsx)(ne.a,{children:Object(n.jsx)(l.a,{children:Object(n.jsxs)(o.a,{noGutters:!0,children:[Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsx)("a",{target:"_blank",href:e.external_urls.spotify,rel:"noopener noreferrer",children:re.a.isEmpty(e.album.images)?Object(n.jsx)("img",{src:ae,alt:""}):Object(n.jsx)(ne.a.Img,{src:e.album.images[0].url,alt:""})})}),Object(n.jsx)(u.a,{children:Object(n.jsxs)(ne.a.Body,{children:[Object(n.jsx)(ne.a.Title,{children:e.name}),Object(n.jsx)(ne.a.Text,{children:Object(n.jsx)("small",{children:e.artists.map((function(e){return e.name})).join(", ")})})]})})]})})})},t)}))})})},se=function(e){var t=e.albums;return Object(n.jsx)(c.a.Fragment,{children:Object.keys(t).length>0&&Object(n.jsx)("div",{className:"albums",children:t.items.map((function(e,t){return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsx)(ne.a,{children:Object(n.jsx)(l.a,{children:Object(n.jsxs)(o.a,{noGutters:!0,children:[Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsx)("a",{target:"_blank",href:e.external_urls.spotify,rel:"noopener noreferrer",children:re.a.isEmpty(e.images)?Object(n.jsx)("img",{src:ae,alt:""}):Object(n.jsx)(ne.a.Img,{src:e.images[0].url,alt:""})})}),Object(n.jsx)(u.a,{children:Object(n.jsxs)(ne.a.Body,{children:[Object(n.jsx)(ne.a.Title,{style:{margin:"0"},children:e.name}),Object(n.jsx)(ne.a.Text,{children:Object(n.jsx)("small",{children:e.artists.map((function(e){return e.name})).join(", ")})})]})})]})})})},t)}))})})},ie=function(e){var t=e.artists;return Object(n.jsx)(c.a.Fragment,{children:Object.keys(t).length>0&&Object(n.jsx)("div",{className:"artists",children:t.items.map((function(e,t){return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsx)(ne.a,{children:Object(n.jsx)(l.a,{children:Object(n.jsxs)(o.a,{noGutters:!0,children:[Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsx)("a",{target:"_blank",href:e.external_urls.spotify,rel:"noopener noreferrer",children:re.a.isEmpty(e.images)?Object(n.jsx)("img",{src:ae,alt:""}):Object(n.jsx)(ne.a.Img,{src:e.images[0].url,alt:""})})}),Object(n.jsx)(u.a,{children:Object(n.jsx)(ne.a.Body,{children:Object(n.jsx)(ne.a.Title,{style:{margin:"0"},children:e.name})})})]})})})},t)}))})})},le=function(e){var t=e.playlist;return Object(n.jsx)("div",{children:Object.keys(t).length>0&&Object(n.jsx)("div",{className:"playlist",children:t.items.map((function(e,t){return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsx)(ne.a,{children:Object(n.jsx)(l.a,{children:Object(n.jsxs)(o.a,{noGutters:!0,children:[Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsx)("a",{target:"_blank",href:e.external_urls.spotify,rel:"noopener noreferrer",children:re.a.isEmpty(e.images)?Object(n.jsx)("img",{src:ae,alt:""}):Object(n.jsx)(ne.a.Img,{src:e.images[0].url,alt:""})})}),Object(n.jsx)(u.a,{children:Object(n.jsxs)(ne.a.Body,{children:[Object(n.jsx)(ne.a.Title,{style:{margin:"0"},children:e.name}),Object(n.jsx)(ne.a.Text,{children:Object(n.jsxs)("small",{children:["By ",e.owner.display_name]})})]})})]})})})},t)}))})})},oe=function(e){var t=e.loadMore,r=e.result,a=e.setCategory,s=e.selectedCategory,i=r.tracks,l=r.albums,o=r.artists,u=r.playlist;return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)("div",{className:"search-buttons",children:[!re.a.isEmpty(i.items)&&Object(n.jsx)("button",{className:"".concat("tracks"===s?"btn active":"btn"),onClick:function(){return a("tracks")},children:"Songs"}),!re.a.isEmpty(l.items)&&Object(n.jsx)("button",{className:"".concat("albums"===s?"btn active":"btn"),onClick:function(){return a("albums")},children:"Albums"}),!re.a.isEmpty(o.items)&&Object(n.jsx)("button",{className:"".concat("artists"===s?"btn active":"btn"),onClick:function(){return a("artists")},children:"Artists"}),!re.a.isEmpty(u.items)&&Object(n.jsx)("button",{className:"".concat("playlist"===s?"btn active":"btn"),onClick:function(){return a("playlist")},children:"PlayLists"})]}),Object(n.jsx)("div",{className:"".concat("tracks"===s?"":"hide"),children:l&&Object(n.jsx)(ce,{tracks:i})}),Object(n.jsx)("div",{className:"".concat("albums"===s?"":"hide"),children:l&&Object(n.jsx)(se,{albums:l})}),Object(n.jsx)("div",{className:"".concat("artists"===s?"":"hide"),children:o&&Object(n.jsx)(ie,{artists:o})}),Object(n.jsx)("div",{className:"".concat("playlist"===s?"":"hide"),children:u&&Object(n.jsx)(le,{playlist:u})}),!re.a.isEmpty(r[s])&&!re.a.isEmpty(r[s].next)&&Object(n.jsx)("div",{className:"load-more",children:Object(n.jsx)(ee.a,{variant:"info",type:"button",onClick:function(){return t(s)},children:"Load More"})})]})},ue=r(88),je=function(e){var t=Object(a.useState)(""),r=Object(P.a)(t,2),c=r[0],s=r[1],i=Object(a.useState)(""),l=Object(P.a)(i,2),o=l[0],u=l[1];return Object(n.jsx)("div",{children:Object(n.jsxs)(ue.a,{onSubmit:function(t){t.preventDefault(),""!==c.trim()?(u(""),e.handleSearch(c)):u("Please enter a search term.")},children:[o&&Object(n.jsx)("p",{className:"errorMsg",children:o}),Object(n.jsx)(ue.a.Group,{controlId:"formBasicEmail",children:Object(n.jsx)(ue.a.Control,{type:"search",name:"searchTerm",value:c,placeholder:"Search here!",onChange:function(e){var t=e.target.value;s(t)},autoComplete:"off"})})]})})},de=function(){return Object(n.jsx)("h1",{className:"main-heading",children:"Spotify Tier List (under construction)"})},be=function(e){var t=Object(a.useState)(document.createElement("div")),r=Object(P.a)(t,1)[0],n=document.querySelector("#loader");return Object(a.useEffect)((function(){n.appendChild(r).classList.add("message")}),[n,r]),Object(a.useEffect)((function(){e.show?(n.classList.remove("hide"),document.body.classList.add("loader-open")):(n.classList.add("hide"),document.body.classList.remove("loader-open"))}),[n,e.show]),i.a.createPortal(e.children,r)},pe=Object(j.b)((function(e){return{tracks:e.tracks,albums:e.albums,artists:e.artists,playlist:e.playlist}}))((function(e){var t=Object(a.useState)(!1),r=Object(P.a)(t,2),s=r[0],i=r[1],l=Object(a.useState)("tracks"),o=Object(P.a)(l,2),u=o[0],j=o[1],d=e.isValidSession,b=e.refreshSession,p=function(){var t=Object(D.a)(C.a.mark((function t(r){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i(!0),d()){t.next=10;break}return t.prev=2,t.next=5,b();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log(t.t0);case 10:e.dispatch(z(r)).then((function(){i(!1)}));case 11:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(D.a)(C.a.mark((function t(r){var n,a,c,s,l;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.dispatch,a=e.tracks,c=e.albums,s=e.artists,l=e.playlist,i(!0),d()){t.next=11;break}return t.prev=3,t.next=6,b();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.log(t.t0);case 11:t.t1=r,t.next="tracks"===t.t1?14:"albums"===t.t1?17:"artists"===t.t1?20:"playlist"===t.t1?23:26;break;case 14:return t.next=16,n(Q(a.next));case 16:return t.abrupt("break",26);case 17:return t.next=19,n(W(c.next));case 19:return t.abrupt("break",26);case 20:return t.next=22,n(Z(s.next));case 22:return t.abrupt("break",26);case 23:return t.next=25,n($(l.next));case 25:return t.abrupt("break",26);case 26:i(!1);case 27:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),x={tracks:e.tracks,albums:e.albums,artists:e.artists,playlist:e.playlist};return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(de,{}),Object(n.jsx)(je,{handleSearch:p}),Object(n.jsx)(be,{show:s,children:"Loading..."}),Object(n.jsx)(oe,{result:x,loadMore:h,setCategory:function(e){j(e)},selectedCategory:u})]})})})),he=function(e){Object(B.a)(r,e);var t=Object(F.a)(r);function r(e){var n;return Object(A.a)(this,r),(n=t.call(this,e)).refreshSession=Object(D.a)(C.a.mark((function e(){var t,r,a,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U();case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:t&&(a=(r=t).access_token,c=r.expires_in,localStorage.setItem("params",JSON.stringify(a)),localStorage.setItem("expiry_time",(new Date).getTime()+1e3*c),n.loaded||n.setState({loaded:!0}));case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),n.isValidSession=function(){var e;try{e=JSON.parse(localStorage.getItem("expiry_time"))}catch(r){e="0"}var t=(new Date).getTime();return t>=e&&n.loaded&&n.setState({loaded:!1}),t<e},n.state={loaded:!1},n}return Object(L.a)(r,[{key:"render",value:function(){return this.isValidSession()?Object(n.jsx)("div",{className:"sidebar-search",children:Object(n.jsx)(pe,{isValidSession:this.isValidSession,refreshSession:this.refreshSession})}):(this.refreshSession(),Object(n.jsx)("div",{className:"sidebar-search",children:"Loading..."}))}}]),r}(c.a.Component),xe=r(19),Oe=r(18),fe=function(e){var t=e.text,r=e.index;return Object(n.jsx)(Oe.b,{draggableId:t,index:r,children:function(e){return Object(n.jsx)("div",Object(h.a)(Object(h.a)(Object(h.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(n.jsx)(ne.a,{children:Object(n.jsx)(l.a,{children:Object(n.jsxs)(o.a,{noGutters:!0,children:[Object(n.jsx)(u.a,{xs:"auto",children:Object(n.jsx)("a",{target:"_blank",href:"google.com",rel:"noopener noreferrer",children:Object(n.jsx)("img",{src:ae,alt:""})})}),Object(n.jsx)(u.a,{children:Object(n.jsxs)(ne.a.Body,{children:[Object(n.jsx)(ne.a.Title,{children:t}),Object(n.jsx)(ne.a.Text,{children:Object(n.jsx)("small",{children:t})})]})})]})})})}))}})},me=function(e){var t=e.col,r=t.list,a=t.id;return Object(n.jsx)(Oe.c,{droppableId:a,children:function(e){return Object(n.jsxs)("div",{className:"tier-col",style:{display:"flex",flexDirection:"column"},children:[Object(n.jsx)("h2",{children:a}),Object(n.jsxs)("div",Object(h.a)(Object(h.a)({style:{display:"flex",flexDirection:"column",minHeight:"120px"}},e.droppableProps),{},{ref:e.innerRef,children:[r.map((function(e,t){return Object(n.jsx)(fe,{text:e,index:t},e)})),e.placeholder]}))]})}})};r(82);var ve=function(){var e=Object(a.useState)({S:{id:"S",list:["BRADIO","The Oral Cigarettes","Official Hige Dandism, Official Hige Dandism, Official Hige Dandism"]},A:{id:"A",list:[]},B:{id:"B",list:[]}}),t=Object(P.a)(e,2),r=t[0],c=t[1];return Object(n.jsx)(Oe.a,{onDragEnd:function(e){var t=e.source,n=e.destination;if(void 0===n||null===n)return null;if(t.droppableId===n.droppableId&&n.index===t.index)return null;var a=r[t.droppableId],s=r[n.droppableId];if(a===s){var i=a.list.filter((function(e,r){return r!==t.index}));i.splice(n.index,0,a.list[t.index]);var l={id:a.id,list:i};c((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},l.id,l))}))}else{var o=a.list.filter((function(e,r){return r!==t.index})),u={id:a.id,list:o},j=s.list;j.splice(n.index,0,a.list[t.index]);var d={id:s.id,list:j};c((function(e){var t;return Object(h.a)(Object(h.a)({},e),{},(t={},Object(xe.a)(t,u.id,u),Object(xe.a)(t,d.id,d),t))}))}return null},children:Object(n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",margin:"24px auto",width:"80%",gap:"8px"},children:Object.values(r).map((function(e){return Object(n.jsx)(me,{col:e},e.id)}))})})};r(83),r(84);i.a.render(Object(n.jsx)(j.a,{store:N,children:Object(n.jsx)(l.a,{fluid:!0,children:Object(n.jsxs)(o.a,{children:[Object(n.jsx)(u.a,{children:Object(n.jsx)(ve,{})}),Object(n.jsx)(u.a,{xl:"auto",children:Object(n.jsx)(he,{})})]})})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.aeb381c1.chunk.js.map