(this["webpackJsonpspotify-tier-list-maker"]=this["webpackJsonpspotify-tier-list-maker"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);var r,a,c,s,i,o,l,u,d,j,b,m=n(0),p=n.n(m),O=n(24),h=n.n(O),f=n(26),x=n(21),g=n(59),v=n(25),y=n(2),k="SET_TRACKS",I="ADD_TRACKS",S="SET_ALBUMS",w="ADD_ALBUMS",C="SET_ARTISTS",E="ADD_ARTISTS",D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.tracks;switch(t.type){case k:return n;case I:return Object(y.a)(Object(y.a)({},e),{},{next:n.next,items:[].concat(Object(v.a)(e.items),Object(v.a)(n.items))});default:return e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.albums;switch(t.type){case S:return n;case w:return Object(y.a)(Object(y.a)({},e),{},{next:n.next,items:[].concat(Object(v.a)(e.items),Object(v.a)(n.items))});default:return e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.artists;switch(t.type){case C:return n;case E:return Object(y.a)(Object(y.a)({},e),{},{next:n.next,items:[].concat(Object(v.a)(e.items),Object(v.a)(n.items))});default:return e}},_=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||x.d,A=Object(x.e)(Object(x.c)({tracks:D,albums:N,artists:T}),_(Object(x.a)(g.a))),L=n(22),R=n(13),B=n(14),P=n(16),H=n(15),U=n(10),F=(n(78),n(11)),M=n(23),J=n(114),V=n(108),q=n(109),W=n(63),z=n.p+"static/media/music.b2fe7d4d.jpeg",G=n(1),K=F.a.div(r||(r=Object(U.a)(["\n  margin-bottom: 8px;\n  background-color: ",";\n"])),(function(e){return e.isDragging?"lightgreen":"none"})),X=function(e){Object(P.a)(n,e);var t=Object(H.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"render",value:function(){var e=this;return Object(G.jsx)(M.b,{draggableId:this.props.item.id,index:this.props.index,children:function(t,n){return Object(G.jsx)(K,Object(y.a)(Object(y.a)(Object(y.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,isDragging:n.isDragging,children:Object(G.jsx)(J.a,{style:{margin:0},children:Object(G.jsx)(V.a,{children:Object(G.jsxs)(q.a,{children:[Object(G.jsx)(W.a,{xs:"auto",children:Object(G.jsx)("a",{target:"_blank",href:e.props.item.songURL,rel:"noopener noreferrer",children:e.props.item.imgURL?Object(G.jsx)(J.a.Img,{src:e.props.item.imgURL,alt:""}):Object(G.jsx)("img",{src:z,alt:""})})}),Object(G.jsx)(W.a,{children:Object(G.jsxs)(J.a.Body,{children:[Object(G.jsx)(J.a.Title,{children:e.props.item.title}),e.props.item.subtitle&&Object(G.jsx)(J.a.Text,{children:Object(G.jsx)("small",{children:e.props.item.subtitle})})]})})]})})})}))}})}}]),n}(p.a.Component),Q=n(7),Y=n(112),Z=n(110),$=n(111),ee=n(42),te=(n(46),function(e){var t=Object(ee.b)("hex",e.color),n=Object(Q.a)(t,2),r=n[0],a=n[1];return Object(G.jsx)(ee.a,{height:160,width:240,color:r,onChange:function(t){e.updateColor(t.hex),a(t)},hideHSV:!0,hideRGB:!0,dark:!0})}),ne=n.p+"static/media/tool.f60e7b86.svg",re=n.p+"static/media/palette.c614a1c8.svg",ae=(n(47),F.a.h3.attrs((function(e){return{style:{backgroundColor:e.color}}}))(a||(a=Object(U.a)(["padding: 8px;\nmargin-bottom: 0;\ndisplay: flex;\nmax-width: 21rem;\nuser-select: none;"])))),ce=F.a.textarea(c||(c=Object(U.a)(["\n    flex-grow: 1;\n    overflow: hidden;\n    word-break: break-all;\n    min-height: 40px;\n    max-width: 17rem;\n    height: 40px;\n    resize: both;\n"]))),se=F.a.button(s||(s=Object(U.a)(["\n    width: 40px;\n    min-width: 40px;\n    height: 40px;\n    float: right;\n    margin-left: 8px;\n    outline: none;\n    background: transparent no-repeat;\n    border: none;\n    border-radius: 50%;\n"]))),ie=function(e){var t=Object(m.useRef)(null),n=Object(m.useState)(e.colData.id),r=Object(Q.a)(n,2),a=r[0],c=r[1],s=Object(m.useState)(e.colData.title),i=Object(Q.a)(s,2),o=i[0],l=i[1],u=Object(m.useState)(e.colData.color),d=Object(Q.a)(u,2),j=d[0],b=d[1],O=Object(m.useState)(!1),h=Object(Q.a)(O,2),f=h[0],x=h[1],g=e.updateHeader,v=e.deleteHandler;function y(n){t.current&&!t.current.contains(n.target)&&(x(!1),e.setEditing(!1))}return Object(m.useEffect)((function(){return f&&document.addEventListener("mousedown",y),function(){document.removeEventListener("mousedown",y)}})),Object(m.useEffect)((function(){c(e.colData.id),l(e.colData.title),b(e.colData.color)}),[e.colData]),Object(G.jsx)(ae,{color:j,children:Object(G.jsx)(p.a.Fragment,{children:f?Object(G.jsxs)("form",{style:{width:"100%",display:"flex",alignItems:"center"},onSubmit:function(){x(!1),e.setEditing(!1)},ref:t,children:[Object(G.jsx)(ce,{value:o,onChange:function(e){l(e.target.value),g(a,e.target.value,j)}}),Object(G.jsxs)(Y.a,{autoClose:"inside",as:Z.a,drop:"right",children:[Object(G.jsx)(Y.a.Toggle,{id:"color-toggle",variant:"secondary",children:Object(G.jsx)($.a,{src:re,fluid:!0,alt:"colors",style:{width:"100%",height:"100%"}})}),Object(G.jsxs)(Y.a.Menu,{id:"color-dropdown",variant:"dark",children:[Object(G.jsx)(te,{color:j,updateColor:function(e){b(e),g(a,o,e)}}),Object(G.jsx)(Y.a.Item,{id:"delete-col-item",onClick:function(){v(a)},children:"DELETE COLUMN"})]})]})]}):Object(G.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center"},children:[Object(G.jsx)("div",{style:{color:"white",textShadow:"0 0 4px black",wordBreak:"break-all",flexGrow:"1",overflow:"hidden"},children:o}),Object(G.jsx)(se,{onClick:function(){x(!0),e.setEditing(!0)},children:Object(G.jsx)($.a,{src:ne,fluid:!0,alt:"settings",style:{width:"100%",height:"100%"}})})]})})})},oe=F.a.div(i||(i=Object(U.a)(["\n  margin: 8px;\n  border: 1px solid #1DB954;\n  background-color: none;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: column;\n"]))),le=F.a.div(o||(o=Object(U.a)(["\n  padding: 8px;\n  transition: background-color 0.2s ease;\n  background-color: ",";\n  flex-grow: 1;\n  min-width: 12rem;\n  min-height: 25rem;\n"])),(function(e){return e.isDraggingOver?"lightgrey":"none"})),ue=function(e){Object(P.a)(n,e);var t=Object(H.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.items!==this.props.items}},{key:"render",value:function(){return this.props.items.map((function(e,t){return Object(G.jsx)(X,{item:e,index:t},e.id)}))}}]),n}(p.a.Component),de=function(e){Object(P.a)(n,e);var t=Object(H.a)(n);function n(e){var r;return Object(R.a)(this,n),(r=t.call(this,e)).state={isEditing:!1},r}return Object(B.a)(n,[{key:"render",value:function(){var e=this;return Object(G.jsx)(M.b,{draggableId:this.props.column.id,index:this.props.index,isDragDisabled:this.state.isEditing,children:function(t){return Object(G.jsxs)(oe,Object(y.a)(Object(y.a)({},t.draggableProps),{},{ref:t.innerRef,children:[Object(G.jsx)("div",Object(y.a)(Object(y.a)({},t.dragHandleProps),{},{children:Object(G.jsx)(ie,{colData:e.props.column,updateHeader:e.props.updateHeader,deleteHandler:e.props.deleteHandler,setEditing:function(t){return e.setState({isEditing:t})}})})),Object(G.jsx)(M.c,{droppableId:e.props.column.id,type:"item",children:function(t,n){return Object(G.jsxs)(le,Object(y.a)(Object(y.a)({ref:t.innerRef},t.droppableProps),{},{isDraggingOver:n.isDraggingOver,children:[Object(G.jsx)(ue,{items:e.props.items}),t.placeholder]}))}})]}))}})}}]),n}(p.a.Component),je=F.a.div(l||(l=Object(U.a)(["\n  margin: 8px;\n  border: 1px solid #1DB954;\n  background-color: none;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: column;\n  min-width: 21.125rem;\n"]))),be=F.a.div(u||(u=Object(U.a)(["\n  padding: 8px;\n  transition: background-color 0.2s ease;\n  background-color: ",";\n  flex-grow: 1;\n  min-height: 16rem;\n"])),(function(e){return e.isDraggingOver?"lightgrey":"none"})),me=function(e){Object(P.a)(n,e);var t=Object(H.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.items!==this.props.items}},{key:"render",value:function(){return this.props.items.map((function(e,t){return Object(G.jsx)(X,{item:e,index:t},e.id)}))}}]),n}(p.a.Component),pe=function(e){Object(P.a)(n,e);var t=Object(H.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"render",value:function(){var e=this;return Object(G.jsxs)("div",{children:[Object(G.jsx)("h1",{className:"main-heading",children:"Items"}),Object(G.jsx)(je,{children:Object(G.jsx)(M.c,{droppableId:"item-pool",type:"item",children:function(t,n){return Object(G.jsxs)(be,Object(y.a)(Object(y.a)({ref:t.innerRef},t.droppableProps),{},{isDraggingOver:n.isDraggingOver,children:[Object(G.jsx)(me,{items:e.props.items}),t.placeholder]}))}})})]})}}]),n}(p.a.Component),Oe=F.a.div(d||(d=Object(U.a)(["\n  margin: 8px;\n  border: 1px solid #1DB954;\n  background-color: none;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: column;\n  min-width: 21.2rem;\n"]))),he=F.a.div(j||(j=Object(U.a)(["\n  padding: 8px;\n  transition: background-color 0.2s ease;\n  background-color: ",";\n  flex-grow: 1;\n  height: 5rem;\n"])),(function(e){return e.isDraggingOver?"pink":"none"})),fe=function(e){Object(P.a)(n,e);var t=Object(H.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"render",value:function(){return Object(G.jsxs)("div",{children:[Object(G.jsx)("h1",{className:"main-heading",children:"Trash Can"}),Object(G.jsx)(Oe,{children:Object(G.jsx)(M.c,{droppableId:"trash-can",type:"item",children:function(e,t){return Object(G.jsx)(he,Object(y.a)(Object(y.a)({ref:e.innerRef},e.droppableProps),{},{isDraggingOver:t.isDraggingOver,children:e.placeholder}))}})})]})}}]),n}(p.a.Component),xe={data:{items:{},columns:{"column-1":{id:"column-1",title:"S",color:"purple",itemIds:[]},"column-2":{id:"column-2",title:"A",color:"#1DB954",itemIds:[]},"column-3":{id:"column-3",title:"B",color:"blue",itemIds:[]},"column-4":{id:"column-4",title:"C",color:"grey",itemIds:[]},"item-pool":{id:"item-pool",itemIds:[]},"trash-can":{id:"trash-can"}},columnOrder:["column-1","column-2","column-3","column-4"]},containsItem:function(e){},addToItemPool:function(e,t,n,r,a){}},ge=p.a.createContext(xe),ve=n(9),ye=n.n(ve),ke=n(18),Ie=n(30),Se=n.n(Ie),we=n(68),Ce=n.n(we),Ee=function(){try{var e=JSON.parse(localStorage.getItem("params"));e&&(Se.a.defaults.headers.common.Authorization="Bearer ".concat(e))}catch(t){console.log("Error setting auth",t)}},De=function(){var e=Object(ke.a)(ye.a.mark((function e(t,n){var r;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ee(),e.next=3,Se.a.get(t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(ke.a)(ye.a.mark((function e(){var t,n,r;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"2d6518050da043db89266dc384c2a3c2","79747dd7e39645f0b19ff179ff55a075",t={headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},auth:{username:"2d6518050da043db89266dc384c2a3c2",password:"79747dd7e39645f0b19ff179ff55a075"}},n={grant_type:"client_credentials"},e.prev=4,e.next=7,Se.a.post("https://accounts.spotify.com/api/token",Ce.a.stringify(n),t);case 7:return r=e.sent,e.abrupt("return",r.data);case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),Te=function(e){return{type:k,tracks:e}},_e=function(e){return{type:S,albums:e}},Ae=function(e){return{type:C,artists:e}},Le=function(e){return function(){var t=Object(ke.a)(ye.a.mark((function t(n){var r,a,c,s,i;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="https://api.spotify.com/v1/search?query=".concat(encodeURIComponent(e),"&type=track,album,artist&limit=24"),t.next=4,De(r);case 4:return a=t.sent,console.log(a),c=a.tracks,s=a.albums,i=a.artists,n(Te(c)),n(_e(s)),t.abrupt("return",n(Ae(i)));case 12:t.prev=12,t.t0=t.catch(0),console.log("error",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},Re=function(e){return function(){var t=Object(ke.a)(ye.a.mark((function t(n){var r;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("url",e),t.next=4,De(e);case 4:return r=t.sent,console.log("categories",r),t.abrupt("return",n((a=r.tracks,{type:I,tracks:a})));case 9:t.prev=9,t.t0=t.catch(0),console.log("error",t.t0);case 12:case"end":return t.stop()}var a}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Be=function(e){return function(){var t=Object(ke.a)(ye.a.mark((function t(n){var r;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("url",e),t.next=4,De(e);case 4:return r=t.sent,console.log("categories",r),t.abrupt("return",n((a=r.albums,{type:w,albums:a})));case 9:t.prev=9,t.t0=t.catch(0),console.log("error",t.t0);case 12:case"end":return t.stop()}var a}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Pe=function(e){return function(){var t=Object(ke.a)(ye.a.mark((function t(n){var r;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("url",e),t.next=4,De(e);case 4:return r=t.sent,console.log("categories",r),t.abrupt("return",n((a=r.artists,{type:E,artists:a})));case 9:t.prev=9,t.t0=t.catch(0),console.log("error",t.t0);case 12:case"end":return t.stop()}var a}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},He=n(67),Ue=n(17),Fe=n.n(Ue),Me=function(e){var t=e.tracks,n=Object(m.useState)(!1),r=Object(Q.a)(n,2),a=r[0],c=r[1];return Object(G.jsx)(p.a.Fragment,{children:Object.keys(t).length>0&&Object(G.jsx)("div",{className:"tracks",children:t.items.map((function(e,t){var n=e.id,r="track",s=e.external_urls.spotify,i=e.name,o=e.artists.map((function(e){return e.name})).join(", "),l=Fe.a.isEmpty(e.album.images)?null:e.album.images[0].url;return Object(G.jsx)(p.a.Fragment,{children:Object(G.jsx)(ge.Consumer,{children:function(t){var u=t.containsItem,d=t.addToItemPool;return Object(G.jsx)(J.a,{style:{maxWidth:"22rem",width:"22rem",marginLeft:"0.5rem",marginRight:"0.5rem"},children:Object(G.jsx)(V.a,{children:Object(G.jsxs)(q.a,{children:[Object(G.jsx)(W.a,{xs:"auto",children:Object(G.jsx)("a",{target:"_blank",href:s,rel:"noopener noreferrer",children:Fe.a.isEmpty(e.album.images)?Object(G.jsx)("img",{src:z,alt:""}):Object(G.jsx)(J.a.Img,{src:l,alt:""})})}),Object(G.jsx)(W.a,{children:Object(G.jsxs)(J.a.Body,{children:[Object(G.jsx)(J.a.Title,{children:i}),Object(G.jsx)(J.a.Text,{children:Object(G.jsx)("small",{children:o})})]})}),Object(G.jsx)(W.a,{xs:"auto",children:Object(G.jsx)("div",{children:u(n,r)?Object(G.jsx)("button",{disabled:!0,className:"item-buttons",children:"x"}):Object(G.jsx)("button",{className:"item-buttons",onClick:function(){d(n,r,s,l,i,o),c(!a)},children:"+"})})})]})})})}})},t)}))})})},Je=function(e){var t=e.albums,n=Object(m.useState)(!1),r=Object(Q.a)(n,2),a=r[0],c=r[1];return Object(G.jsx)(p.a.Fragment,{children:Object.keys(t).length>0&&Object(G.jsx)("div",{className:"albums",children:t.items.map((function(e,t){var n=e.id,r="album",s=e.external_urls.spotify,i=e.name,o=e.artists.map((function(e){return e.name})).join(", "),l=Fe.a.isEmpty(e.images)?null:e.images[0].url;return Object(G.jsx)(p.a.Fragment,{children:Object(G.jsx)(ge.Consumer,{children:function(t){var u=t.containsItem,d=t.addToItemPool;return Object(G.jsx)(J.a,{style:{maxWidth:"22rem",width:"22rem",marginLeft:"0.5rem",marginRight:"0.5rem"},children:Object(G.jsx)(V.a,{children:Object(G.jsxs)(q.a,{children:[Object(G.jsx)(W.a,{xs:"auto",children:Object(G.jsx)("a",{target:"_blank",href:s,rel:"noopener noreferrer",children:Fe.a.isEmpty(e.images)?Object(G.jsx)("img",{src:z,alt:""}):Object(G.jsx)(J.a.Img,{src:e.images[0].url,alt:""})})}),Object(G.jsx)(W.a,{children:Object(G.jsxs)(J.a.Body,{children:[Object(G.jsx)(J.a.Title,{style:{margin:"0"},children:i}),Object(G.jsx)(J.a.Text,{children:Object(G.jsx)("small",{children:o})})]})}),Object(G.jsx)(W.a,{xs:"auto",children:Object(G.jsxs)("div",{children:[u(n,r)?Object(G.jsx)("button",{disabled:!0,className:"item-buttons",children:"x"}):Object(G.jsx)("button",{className:"item-buttons",onClick:function(){d(n,r,s,l,i,o),c(!a)},children:"+"}),Object(G.jsx)("button",{className:"item-buttons",children:"v"})]})})]})})})}})},t)}))})})},Ve=function(e){var t=e.artists,n=Object(m.useState)(!1),r=Object(Q.a)(n,2),a=r[0],c=r[1];return Object(G.jsx)(p.a.Fragment,{children:Object.keys(t).length>0&&Object(G.jsx)("div",{className:"artists",children:t.items.map((function(e,t){var n=e.id,r="artist",s=e.external_urls.spotify,i=e.name,o=Fe.a.isEmpty(e.images)?null:e.images[0].url;return Object(G.jsx)(p.a.Fragment,{children:Object(G.jsx)(ge.Consumer,{children:function(t){var l=t.containsItem,u=t.addToItemPool;return Object(G.jsx)(J.a,{style:{maxWidth:"22rem",width:"22rem",marginLeft:"0.5rem",marginRight:"0.5rem"},children:Object(G.jsx)(V.a,{children:Object(G.jsxs)(q.a,{children:[Object(G.jsx)(W.a,{xs:"auto",children:Object(G.jsx)("a",{target:"_blank",href:s,rel:"noopener noreferrer",children:Fe.a.isEmpty(e.images)?Object(G.jsx)("img",{src:z,alt:""}):Object(G.jsx)(J.a.Img,{src:e.images[0].url,alt:""})})}),Object(G.jsx)(W.a,{children:Object(G.jsx)(J.a.Body,{children:Object(G.jsx)(J.a.Title,{style:{margin:"0"},children:i})})}),Object(G.jsx)(W.a,{xs:"auto",children:Object(G.jsxs)("div",{children:[l(n,r)?Object(G.jsx)("button",{disabled:!0,className:"item-buttons",children:"x"}):Object(G.jsx)("button",{className:"item-buttons",onClick:function(){u(n,r,s,o,i,null),c(!a)},children:"+"}),Object(G.jsx)("button",{className:"item-buttons",children:"v"})]})})]})})})}})},t)}))})})},qe=function(e){var t=e.loadMore,n=e.result,r=e.setCategory,a=e.selectedCategory,c=n.tracks,s=n.albums,i=n.artists;return Object(G.jsxs)(p.a.Fragment,{children:[Object(G.jsxs)("div",{className:"search-buttons",children:[!Fe.a.isEmpty(c.items)&&Object(G.jsx)("button",{className:"".concat("tracks"===a?"btn active":"btn"),onClick:function(){return r("tracks")},children:"Songs"}),!Fe.a.isEmpty(s.items)&&Object(G.jsx)("button",{className:"".concat("albums"===a?"btn active":"btn"),onClick:function(){return r("albums")},children:"Albums"}),!Fe.a.isEmpty(i.items)&&Object(G.jsx)("button",{className:"".concat("artists"===a?"btn active":"btn"),onClick:function(){return r("artists")},children:"Artists"})]}),Object(G.jsx)("div",{className:"".concat("tracks"===a?"":"hide"),children:s&&Object(G.jsx)(Me,{tracks:c})}),Object(G.jsx)("div",{className:"".concat("albums"===a?"":"hide"),children:s&&Object(G.jsx)(Je,{albums:s})}),Object(G.jsx)("div",{className:"".concat("artists"===a?"":"hide"),children:i&&Object(G.jsx)(Ve,{artists:i})}),!Fe.a.isEmpty(n[a])&&!Fe.a.isEmpty(n[a].next)&&Object(G.jsx)("div",{className:"load-more",children:Object(G.jsx)(He.a,{variant:"info",type:"button",onClick:function(){return t(a)},children:"Load More"})})]})},We=n(113),ze=function(e){var t=Object(m.useState)(""),n=Object(Q.a)(t,2),r=n[0],a=n[1],c=Object(m.useState)(""),s=Object(Q.a)(c,2),i=s[0],o=s[1];return Object(G.jsx)("div",{children:Object(G.jsxs)(We.a,{onSubmit:function(t){t.preventDefault(),""!==r.trim()?(o(""),e.handleSearch(r)):o("Please enter a search term.")},children:[i&&Object(G.jsx)("p",{className:"errorMsg",children:i}),Object(G.jsx)(We.a.Group,{controlId:"formBasicEmail",children:Object(G.jsx)(We.a.Control,{type:"search",name:"searchTerm",value:r,placeholder:"Search here!",onChange:function(e){var t=e.target.value;a(t)},autoComplete:"off"})})]})})},Ge=function(){return Object(G.jsx)("h1",{className:"main-heading",style:{marginBottom:"8px"},children:"Search"})},Ke=function(e){var t=Object(m.useState)(document.createElement("div")),n=Object(Q.a)(t,1)[0],r=document.querySelector("#loader");return Object(m.useEffect)((function(){r.appendChild(n).classList.add("message")}),[r,n]),Object(m.useEffect)((function(){e.show?(r.classList.remove("hide"),document.body.classList.add("loader-open")):(r.classList.add("hide"),document.body.classList.remove("loader-open"))}),[r,e.show]),h.a.createPortal(e.children,n)},Xe=Object(f.b)((function(e){return{tracks:e.tracks,albums:e.albums,artists:e.artists}}))((function(e){var t=Object(m.useState)(!1),n=Object(Q.a)(t,2),r=n[0],a=n[1],c=[e.selectedCategory,e.updateCategory],s=c[0],i=c[1],o=e.isValidSession,l=e.refreshSession,u=function(){var t=Object(ke.a)(ye.a.mark((function t(n){return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a(!0),o()){t.next=10;break}return t.prev=2,t.next=5,l();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log(t.t0);case 10:e.dispatch(Le(n)).then((function(){a(!1)}));case 11:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(ke.a)(ye.a.mark((function t(n){var r,c,s,i;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.dispatch,c=e.tracks,s=e.albums,i=e.artists,a(!0),o()){t.next=11;break}return t.prev=3,t.next=6,l();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.log(t.t0);case 11:t.t1=n,t.next="tracks"===t.t1?14:"albums"===t.t1?17:"artists"===t.t1?20:23;break;case 14:return t.next=16,r(Re(c.next));case 16:return t.abrupt("break",23);case 17:return t.next=19,r(Be(s.next));case 19:return t.abrupt("break",23);case 20:return t.next=22,r(Pe(i.next));case 22:return t.abrupt("break",23);case 23:a(!1);case 24:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),j={tracks:e.tracks,albums:e.albums,artists:e.artists};return Object(G.jsx)(p.a.Fragment,{children:Object(G.jsxs)("div",{children:[Object(G.jsx)(Ge,{}),Object(G.jsx)(ze,{handleSearch:u}),Object(G.jsx)(Ke,{show:r,children:"Loading..."}),Object(G.jsx)(qe,{result:j,loadMore:d,setCategory:function(e){i(e)},selectedCategory:s})]})})})),Qe=function(e){Object(P.a)(n,e);var t=Object(H.a)(n);function n(e){var r;return Object(R.a)(this,n),(r=t.call(this,e)).updateCategory=function(e){var t=Object(y.a)(Object(y.a)({},r.state),{},{selectedCategory:e});r.setState(t)},r.refreshSession=Object(ke.a)(ye.a.mark((function e(){var t,n,a,c;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne();case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:t&&(a=(n=t).access_token,c=n.expires_in,localStorage.setItem("params",JSON.stringify(a)),localStorage.setItem("expiry_time",(new Date).getTime()+1e3*c),r.loaded||r.setState({loaded:!0}));case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),r.isValidSession=function(){var e;try{e=JSON.parse(localStorage.getItem("expiry_time"))}catch(n){e="0"}var t=(new Date).getTime();return t>=e&&r.loaded&&r.setState({loaded:!1}),t<e},r.state={loaded:!1,selectedCategory:"tracks"},r}return Object(B.a)(n,[{key:"render",value:function(){return this.isValidSession()?Object(G.jsx)("div",{className:"sidebar-search",children:Object(G.jsx)(Xe,{isValidSession:this.isValidSession,refreshSession:this.refreshSession,selectedCategory:this.state.selectedCategory,updateCategory:this.updateCategory},this.props.refreshItems)}):(this.refreshSession(),Object(G.jsx)("div",{className:"sidebar-search",children:"Loading..."}))}}]),n}(p.a.Component),Ye=F.a.div(b||(b=Object(U.a)(["\n  display: flex;\n"]))),Ze=function(e){Object(P.a)(n,e);var t=Object(H.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"render",value:function(){var e=this.props,t=e.column,n=e.itemMap,r=e.index,a=e.updateHeader,c=e.deleteHandler,s=t.itemIds.map((function(e){return n[e]}));return Object(G.jsx)(de,{column:t,items:s,index:r,updateHeader:a,deleteHandler:c})}}]),n}(p.a.PureComponent),$e=!1,et=function(e){Object(P.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(R.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state=e.context.data,e.importFromJson=function(t){var n=new FileReader;n.readAsText(t.target.files[0],"UTF-8"),n.onload=function(t){var n=JSON.parse(t.target.result);if("columnOrder"in n&&"items"in n&&"columns"in n&&"item-pool"in n.columns&&"trash-can"in n.columns&&"id"in n.columns["item-pool"]&&"item-pool"===n.columns["item-pool"].id&&"itemIds"in n.columns["item-pool"]&&Array.isArray(n.columns["item-pool"].itemIds)&&"id"in n.columns["trash-can"]&&"trash-can"===n.columns["trash-can"].id){var r=!0,a=["id","title","color","itemIds"];if(Object.keys(n.columns).forEach((function(e){if(r&&"item-pool"!==e&&"trash-can"!==e){var t=Object.keys(n.columns[e]);r=t.length===a.length&&t.every((function(e,t){return e===a[t]}))}})),r){var c=n.columnOrder,s=Object.keys(n.columns);if(s.splice(s.indexOf("item-pool"),1),s.splice(s.indexOf("trash-can"),1),c.length===s.length&&c.every((function(e){return s.includes(e)}))){var i=!0,o=["id","type","songURL","imgURL","title","subtitle"];if(Object.keys(n.items).forEach((function(e){if(i){var t=Object.keys(n.items[e]);i=t.length===o.length&&t.every((function(e,t){return e===o[t]}))}})),i){var l=Object.keys(n.items),u=[];Object.keys(n.columns).forEach((function(e){"trash-can"!==e&&(u=u.concat(n.columns[e].itemIds))})),u.length===l.length&&u.every((function(e){return l.includes(e)}))?($e=!$e,e.setState(n),console.log(e.state)):console.log("items and itemIds don't match!")}else console.log("missing required item information!")}else console.log("columnOrder and columns don't match!")}else console.log("missing required column information!")}else console.log("missing required information!")}},e.deleteItem=function(t,n,r){var a=Array.from(r.itemIds);a.splice(n.index,1);var c=Object(y.a)(Object(y.a)({},r),{},{itemIds:a}),s=e.state.items,i=Object.keys(s).reduce((function(e,n){return n!==t&&(e[n]=s[n]),e}),{}),o=Object(y.a)(Object(y.a)({},e.state),{},{items:i,columns:Object(y.a)(Object(y.a)({},e.state.columns),{},Object(L.a)({},c.id,c))});$e=!$e,e.setState(o)},e.updateColHeader=function(t,n,r){var a=e.state.columns[t],c=Object(y.a)(Object(y.a)({},a),{},{title:n,color:r}),s=Object(y.a)(Object(y.a)({},e.state),{},{columns:Object(y.a)(Object(y.a)({},e.state.columns),{},Object(L.a)({},t,c))});e.setState(s)},e.removeCol=function(t){var n=Array.from(e.state.columnOrder);n.splice(n.indexOf(t),1);var r=e.state.columns,a=Object.keys(r).reduce((function(e,n){return n!==t&&(e[n]=r[n]),e}),{}),c=Object(y.a)(Object(y.a)({},e.state),{},{columns:a,columnOrder:n});e.setState(c)},e.onDragEnd=function(t){var n,r=t.destination,a=t.source,c=t.draggableId,s=t.type;if(r&&(r.droppableId!==a.droppableId||r.index!==a.index))if("column"!==s){var i=e.state.columns[a.droppableId],o=e.state.columns[r.droppableId];if("trash-can"!==r.droppableId)if(i!==o){var l=Array.from(i.itemIds);l.splice(a.index,1);var u=Object(y.a)(Object(y.a)({},i),{},{itemIds:l}),d=Array.from(o.itemIds);d.splice(r.index,0,c);var j=Object(y.a)(Object(y.a)({},o),{},{itemIds:d}),b=Object(y.a)(Object(y.a)({},e.state),{},{columns:Object(y.a)(Object(y.a)({},e.state.columns),{},(n={},Object(L.a)(n,u.id,u),Object(L.a)(n,j.id,j),n))});e.setState(b)}else{var m=Array.from(i.itemIds);m.splice(a.index,1),m.splice(r.index,0,c);var p=Object(y.a)(Object(y.a)({},i),{},{itemIds:m}),O=Object(y.a)(Object(y.a)({},e.state),{},{columns:Object(y.a)(Object(y.a)({},e.state.columns),{},Object(L.a)({},p.id,p))});e.setState(O)}else e.deleteItem(c,a,i)}else{var h=Array.from(e.state.columnOrder);h.splice(a.index,1),h.splice(r.index,0,c);var f=Object(y.a)(Object(y.a)({},e.state),{},{columnOrder:h});e.setState(f)}},e}return Object(B.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.context.containsItem=function(t,n){return t in e.state.items&&e.state.items[t].type===n},this.context.addToItemPool=function(t,n,r,a,c,s){if(!e.context.containsItem(t,n)){var i=Object(y.a)(Object(y.a)({},e.state.items),{},Object(L.a)({},t,{id:t,type:n,songURL:r,imgURL:a,title:c,subtitle:s})),o=Array.from(e.state.columns["item-pool"].itemIds).concat(t),l=Object(y.a)(Object(y.a)({},e.state.columns["item-pool"]),{},{itemIds:o}),u=Object(y.a)(Object(y.a)({},e.state),{},{items:i,columns:Object(y.a)(Object(y.a)({},e.state.columns),{},{"item-pool":l})});e.setState(u)}}}},{key:"render",value:function(){var e=this;return Object(G.jsxs)("div",{children:[Object(G.jsx)("button",{type:"button",onClick:function(){var t="column-".concat((new Date).getTime()),n=Array.from(e.state.columnOrder).concat(t),r=Object(y.a)(Object(y.a)({},e.state),{},{columnOrder:n});r.columns[t]={id:t,title:"NEW",color:"#1DB954",itemIds:[]},e.setState(r)},children:"Add new group"}),Object(G.jsx)("a",{href:"data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(this.state))),download:"tierlist.json",children:"Export as Json"}),Object(G.jsxs)("div",{children:[Object(G.jsx)("label",{htmlFor:"import_tierlist",children:"Import from Json"}),Object(G.jsx)("input",{type:"file",id:"import_tierlist",name:"import_tierlist",accept:".json",onChange:this.importFromJson})]}),Object(G.jsxs)(M.a,{onDragEnd:this.onDragEnd,children:[Object(G.jsxs)(Ye,{children:[Object(G.jsx)(fe,{}),Object(G.jsx)(M.c,{droppableId:"tiers",direction:"horizontal",type:"column",children:function(t){return Object(G.jsxs)(Ye,Object(y.a)(Object(y.a)({},t.droppableProps),{},{ref:t.innerRef,children:[e.state.columnOrder.map((function(t,n){var r=e.state.columns[t];return Object(G.jsx)(Ze,{column:r,itemMap:e.state.items,index:n,updateHeader:e.updateColHeader,deleteHandler:e.removeCol},r.id)})),t.placeholder]}))}})]}),Object(G.jsxs)(Ye,{children:[Object(G.jsx)(pe,{items:this.state.columns["item-pool"].itemIds.map((function(t){return e.state.items[t]}))}),Object(G.jsx)(Qe,{refreshItems:$e})]})]})]})}}]),n}(p.a.Component);et.contextType=ge;var tt=et;n(102),n(103);h.a.render(Object(G.jsxs)(ge.Provider,{value:xe,children:[Object(G.jsx)("h1",{className:"main-heading",children:"Spotify Tier List Maker (under construction)"}),Object(G.jsx)(f.a,{store:A,children:Object(G.jsx)(tt,{})})]}),document.getElementById("root"))},47:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.16566605.chunk.js.map