(this["webpackJsonpspotify-tier-list-maker"]=this["webpackJsonpspotify-tier-list-maker"]||[]).push([[0],{143:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var r,a,s,c,i,o,l,u,d,m,b,j,h,p,O,f,g=n(0),x=n.n(g),v=n(22),y=n.n(v),S=n(43),I=n(30),k=n(104),C=n(27),w=n(2),D="SET_TRACKS",E="ADD_TRACKS",N="SET_ALBUMS",T="ADD_ALBUMS",B="SET_ARTISTS",A="ADD_ARTISTS",R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.tracks;switch(t.type){case D:return n;case E:return Object(w.a)(Object(w.a)({},e),{},{next:n.next,items:[].concat(Object(C.a)(e.items),Object(C.a)(n.items))});default:return e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.albums;switch(t.type){case N:return n;case T:return Object(w.a)(Object(w.a)({},e),{},{next:n.next,items:[].concat(Object(C.a)(e.items),Object(C.a)(n.items))});default:return e}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.artists;switch(t.type){case B:return n;case A:return Object(w.a)(Object(w.a)({},e),{},{next:n.next,items:[].concat(Object(C.a)(e.items),Object(C.a)(n.items))});default:return e}},P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.d,F=Object(I.e)(Object(I.c)({tracks:R,albums:L,artists:M}),P(Object(I.a)(k.a))),H=n(14),U=n(5),_=n.n(U),G=n(13),J=n(18),K=n(19),V=n(21),W=n(20),z=n(16),Z=(n(120),n(17)),Y=n(26),Q=n(36),X=n(162),q=n(149),$=n(150),ee=n(108),te=n.p+"static/media/notrack.885fbb75.svg",ne=n.p+"static/media/noalbum.317b8fb7.svg",re=n.p+"static/media/noartist.e7aab9ee.svg",ae=n(1),se=Z.a.div(r||(r=Object(z.a)(["\n  background-color: ",";\n  border-radius: 4px;\n  width: 17.25rem;\n  max-width: 17.25rem;\n"])),(function(e){return e.isDragging?"#535353":"none"})),ce=Z.a.small(a||(a=Object(z.a)(["\n  color: ",";\n"])),(function(e){return e.isDragging?"white !important":"#A4A4A4"})),ie=function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(K.a)(n,[{key:"render",value:function(){var e=this;return Object(ae.jsx)(Y.b,{draggableId:this.props.item.id,index:this.props.index,children:function(t,n){return Object(ae.jsx)(se,Object(w.a)(Object(w.a)(Object(w.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,isDragging:n.isDragging,children:Object(ae.jsx)(X.a,{style:{margin:0},children:Object(ae.jsx)(q.a,{children:Object(ae.jsxs)($.a,{children:[Object(ae.jsx)(ee.a,{xs:"auto",children:Object(ae.jsx)("a",{className:"card-img-link",target:"_blank",href:e.props.item.songURL,rel:"noopener noreferrer",onDragStart:function(e){return e.preventDefault()},children:e.props.item.imgURL?Object(ae.jsx)(X.a.Img,{src:e.props.item.imgURL,alt:""}):Object(ae.jsx)(X.a.Img,{src:"track"===e.props.item.type?te:"album"===e.props.item.type?ne:re,alt:""})})}),Object(ae.jsx)(ee.a,{children:Object(ae.jsxs)(X.a.Body,{children:[Object(ae.jsx)(X.a.Title,{children:e.props.item.title}),e.props.item.subtitle&&Object(ae.jsx)(X.a.Text,{children:Object(ae.jsx)(ce,{isDragging:n.isDragging,children:e.props.item.subtitle})})]})})]})})})}))}})}}]),n}(x.a.Component),oe=n(10),le=n(151),ue=n(160),de=n(71),me=n(110),be=n(152),je=n(159),he=n(153),pe=n(154),Oe=n.p+"static/media/cog-black.a361acd8.svg",fe=n.p+"static/media/palette-black.d38e1bfc.svg",ge=n.p+"static/media/cog-white.07854ec9.svg",xe=n.p+"static/media/palette-white.3218a162.svg",ve=n.p+"static/media/cross.86d4de87.svg",ye=(n(122),n(94),Z.a.h3.attrs((function(e){return{style:{borderBottom:"4px solid ".concat(e.color),backgroundColor:e.color}}}))(s||(s=Object(z.a)(["padding: 6px 8px;\n  margin-bottom: 0;\n  display: flex;\n  max-width: 18.25rem;\n  user-select: none;\n  font-size: 2rem;\n"])))),Se=Z.a.textarea(c||(c=Object(z.a)(["\n    flex-grow: 1;\n    overflow: hidden;\n    word-break: break-all;\n    min-height: 40px;\n    max-width: 14.25rem;\n    height: 40px;\n    resize: both;\n"]))),Ie=Z.a.button(i||(i=Object(z.a)(["\n    width: 40px;\n    min-width: 40px;\n    height: 40px;\n    margin-left: 8px;\n    outline: none;\n    background: transparent;\n    border: none;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n"]))),ke=function(e){var t=Object(g.useRef)(null),n=Object(g.useState)(e.colData.id),r=Object(oe.a)(n,2),a=r[0],s=r[1],c=Object(g.useState)(e.colData.title),i=Object(oe.a)(c,2),o=i[0],l=i[1],u=Object(g.useState)(e.colData.color),d=Object(oe.a)(u,2),m=d[0],b=d[1],j=Object(Q.c)("hex",e.colData.color),h=Object(oe.a)(j,2),p=h[0],O=h[1],f=Object(g.useState)(!1),v=Object(oe.a)(f,2),y=v[0],S=v[1],I=Object(g.useState)(!1),k=Object(oe.a)(I,2),C=k[0],w=k[1],D=Object(g.useState)(!1),E=Object(oe.a)(D,2),N=E[0],T=E[1],B=e.updateHeader,A=e.deleteHandler,R=e.presetColors;function L(n){t.current&&!t.current.contains(n.target)&&(S(!1),C&&(w(!1),B(a,o,p.hex)),e.setEditing(!1))}return Object(g.useEffect)((function(){return y&&document.addEventListener("mousedown",L),function(){document.removeEventListener("mousedown",L)}})),Object(g.useEffect)((function(){s(e.colData.id),l(e.colData.title),b(e.colData.color)}),[e.colData]),Object(ae.jsxs)("div",{children:[e.showDeleteButton&&Object(ae.jsx)("div",{style:{position:"relative"},children:Object(ae.jsx)("button",{className:"column-remove-button",onClick:function(){return e.colData.itemIds.length>0?T(!0):A(a,!1)},children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:ve,fluid:!0,alt:"delete column",style:{width:"75%",height:"75%"}})})}),Object(ae.jsxs)(ue.a,{id:"delete-modal",show:N,onHide:function(){return T(!1)},size:"sm",children:[Object(ae.jsx)(ue.a.Header,{closeButton:!0,closeVariant:"white",children:Object(ae.jsx)(ue.a.Title,{children:"Confirm Delete"})}),Object(ae.jsx)(ue.a.Body,{children:"Do you want to keep or delete the column contents?"}),Object(ae.jsxs)(ue.a.Footer,{children:[Object(ae.jsx)(de.a,{variant:"success",id:"keep-items",onClick:function(){T(!1),A(a,!0)},children:"Keep"}),Object(ae.jsx)(de.a,{variant:"danger",id:"delete-items",onClick:function(){T(!1),A(a,!1)},children:"Delete"}),Object(ae.jsx)(de.a,{variant:"secondary",id:"cancel-delete-btn",onClick:function(){T(!1)},children:"Cancel"})]})]}),Object(ae.jsx)(ye,{color:p.hex,children:Object(ae.jsx)(x.a.Fragment,{children:y?Object(ae.jsxs)("form",{style:{width:"100%",display:"flex",alignItems:"center"},onSubmit:function(){S(!1),e.setEditing(!1)},ref:t,children:[Object(ae.jsx)(Se,{value:o,onChange:function(e){l(e.target.value),B(a,e.target.value,m)}}),Object(ae.jsxs)(me.a,{autoClose:"inside",as:be.a,drop:"right",onToggle:function(e){w(e),e||B(a,o,p.hex)},children:[Object(ae.jsx)(je.a,{placement:"top",overlay:Object(ae.jsx)(he.a,{children:"Edit Color"}),children:Object(ae.jsx)(me.a.Toggle,{id:"color-toggle",variant:"secondary",children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:p.hsv.v<50?xe:fe,fluid:!0,alt:"colors",style:{width:"100%",height:"100%"}})})}),Object(ae.jsxs)(me.a.Menu,{id:"color-dropdown",variant:"dark",children:[Object(ae.jsx)(Q.a,{height:160,width:240,color:p,onChange:function(t){if(t.hsv.h>=360){var n=t.hsv;n.h=360,t=Object(Q.b)("hsv",n)}O(t),e.setBorderColor(t.hex)},hideRGB:!0,hideHSV:!0,dark:!0}),Object(ae.jsx)("div",{id:"preset-colors",children:R.map((function(t,n){return Object(ae.jsx)(pe.a,{className:"preset-color-button",id:"color-".concat(n),type:"radio",variant:"light",style:{backgroundColor:t},onChange:function(){O(Object(Q.b)("hex",t)),e.setBorderColor(t)}},n)}))})]})]})]}):Object(ae.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center"},children:[Object(ae.jsx)("div",{style:{color:"white",textShadow:"0 0 4px black",wordBreak:"break-all",flexGrow:"1"},children:o}),Object(ae.jsx)(je.a,{placement:"top",overlay:Object(ae.jsx)(he.a,{children:"Edit Column"}),children:Object(ae.jsx)(Ie,{onClick:function(){S(!0),e.setEditing(!0)},children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:p.hsv.v<50?ge:Oe,fluid:!0,alt:"settings",style:{width:"100%",height:"100%"}})})})]})})})]})},Ce=Z.a.div(o||(o=Object(z.a)(["\n  border: 4px solid ",";\n  margin: 8px;\n  background-color: none;\n  border-radius: 4px;\n  display: flex;\n  flex-direction: column;\n"])),(function(e){return e.isDragDisabled?e.bdColorDark:e.bdColor})),we=Z.a.div(l||(l=Object(z.a)(["\n  padding: 8px;\n  background-color: ",";\n  transition: background-color 0.2s ease;\n  flex-grow: 1;\n  min-width: 18.25rem;\n  min-height: 20rem;\n"])),(function(e){return e.isDraggingOver||e.isDragging?e.bgColor:"none"})),De=function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(K.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.items!==this.props.items}},{key:"render",value:function(){return this.props.items.map((function(e,t){return Object(ae.jsx)(ie,{item:e,index:t},e.id)}))}}]),n}(x.a.Component),Ee=function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(e){var r;return Object(J.a)(this,n),(r=t.call(this,e)).state={isEditing:!1,borderColor:r.props.column.color},r}return Object(K.a)(n,[{key:"getDarkBorderColor",value:function(e){var t=Object(Q.b)("hex",e).hsv;return t.a=.77,Object(Q.b)("hsv",t).hex}},{key:"getBodyColor",value:function(e){var t=Object(Q.b)("hex",e).hsv;return t.v=t.v/2,t.a=.64,Object(Q.b)("hsv",t).hex}},{key:"render",value:function(){var e=this;return Object(ae.jsx)(Y.b,{draggableId:this.props.column.id,index:this.props.index,isDragDisabled:this.state.isEditing||this.props.toggleEditMode,children:function(t,n){return Object(ae.jsxs)(Ce,Object(w.a)(Object(w.a)({},t.draggableProps),{},{ref:t.innerRef,isDragDisabled:e.props.toggleEditMode,bdColor:e.state.borderColor,bdColorDark:e.getDarkBorderColor(e.state.borderColor),children:[Object(ae.jsx)("div",Object(w.a)(Object(w.a)({},t.dragHandleProps),{},{children:Object(ae.jsx)(ke,{colData:e.props.column,updateHeader:e.props.updateHeader,deleteHandler:e.props.deleteHandler,showDeleteButton:e.props.toggleEditMode,presetColors:e.props.presetColors,setEditing:function(t){return e.setState({isEditing:t})},setBorderColor:function(t){return e.setState({borderColor:t})}})})),Object(ae.jsx)(Y.c,{droppableId:e.props.column.id,type:"item",children:function(t,r){return Object(ae.jsxs)(we,Object(w.a)(Object(w.a)({ref:t.innerRef},t.droppableProps),{},{isDragging:n.isDragging,isDraggingOver:r.isDraggingOver,bgColor:e.getBodyColor(e.props.column.color),children:[Object(ae.jsx)(De,{items:e.props.items}),t.placeholder]}))}})]}))}})}}]),n}(x.a.Component),Ne=n.p+"static/media/plus.399e19eb.svg",Te=Z.a.div(u||(u=Object(z.a)(["\n  background-color: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 22rem;\n"]))),Be=function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(K.a)(n,[{key:"render",value:function(){var e=this;return Object(ae.jsx)(Y.b,{draggableId:"add-btn-".concat(this.props.index),index:this.props.index,isDragDisabled:!0,children:function(t){return Object(ae.jsx)(Te,Object(w.a)(Object(w.a)({},t.draggableProps),{},{ref:t.innerRef,children:Object(ae.jsx)("button",{className:"column-add-button",onClick:function(){return e.props.addHandler(e.props.index)},children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:Ne,fluid:!0,alt:"add column",style:{width:"62.5%",height:"62.5%"}})})}))}})}}]),n}(x.a.Component),Ae=Z.a.div(d||(d=Object(z.a)(["\n  margin: 0 auto;\n  border: 1px solid #1DB954;\n  background-color: none;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: column;\n  width: 19.43rem;\n  height: calc(100vh - 11.375rem);\n  overflow-y: scroll;\n"]))),Re=Z.a.div(m||(m=Object(z.a)(["\n  padding: 8px;\n  transition: background-color 0.2s ease;\n  background-color: ",";\n  flex-grow: 1;\n"])),(function(e){return e.isDraggingOver?"#282828":"none"})),Le=function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(K.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.items!==this.props.items}},{key:"render",value:function(){return this.props.items.map((function(e,t){return Object(ae.jsx)(ie,{item:e,index:t},e.id)}))}}]),n}(x.a.Component),Me=function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(K.a)(n,[{key:"render",value:function(){var e=this;return Object(ae.jsx)(Ae,{children:Object(ae.jsx)(Y.c,{droppableId:"item-pool",type:"item",children:function(t,n){return Object(ae.jsxs)(Re,Object(w.a)(Object(w.a)({ref:t.innerRef},t.droppableProps),{},{isDraggingOver:n.isDraggingOver,children:[Object(ae.jsx)(Le,{items:e.props.items}),t.placeholder]}))}})})}}]),n}(x.a.Component),Pe=n.p+"static/media/trash-can.26a1eb4d.svg",Fe=Z.a.div(b||(b=Object(z.a)(["\n  margin: 0.5rem auto;\n  border: 1px solid ",";\n  transition: border 0.2s ease;\n  background-color: none;\n  border-radius: 2px;\n  width: 19.43rem;\n  height: 4.75rem;\n  max-height: 4.75rem;\n  overflow-y: hidden;\n"])),(function(e){return e.isDraggingOver?"red":"darkred"})),He=Z.a.div(j||(j=Object(z.a)(["\n  padding: 8px;\n  transition: background-color 0.2s ease;\n  background-color: ",";\n  height: 100%;\n"])),(function(e){return e.isDraggingOver?"#530000":"none"})),Ue=Z.a.h1(h||(h=Object(z.a)(["\n  color: ",";\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.isDraggingOver?"red":"#BB0000"})),_e=function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(K.a)(n,[{key:"render",value:function(){return Object(ae.jsx)(Y.c,{droppableId:"trash-can",type:"item",children:function(e,t){return Object(ae.jsxs)("div",{style:{position:"relative"},children:[Object(ae.jsx)(Ue,{className:"main-heading",isDraggingOver:t.isDraggingOver,children:Object(ae.jsx)(le.a,{src:Pe,fluid:!0,alt:"trash can",style:{width:"4rem",transition:"filter 0.2s ease",filter:t.isDraggingOver?"invert(11%) sepia(77%) saturate(7498%) hue-rotate(6deg) brightness(105%) contrast(118%)":"invert(8%) sepia(98%) saturate(5962%) hue-rotate(2deg) brightness(93%) contrast(110%)"}})}),Object(ae.jsx)(Fe,{isDraggingOver:t.isDraggingOver,children:Object(ae.jsx)(He,Object(w.a)(Object(w.a)({ref:e.innerRef},e.droppableProps),{},{isDraggingOver:t.isDraggingOver,children:e.placeholder}))})]})}})}}]),n}(x.a.Component),Ge={data:{items:{},columns:{"column-1":{id:"column-1",title:"S",color:"#DC3CA0",itemIds:[]},"column-2":{id:"column-2",title:"A",color:"#F63E02",itemIds:[]},"column-3":{id:"column-3",title:"B",color:"#F5B700",itemIds:[]},"column-4":{id:"column-4",title:"C",color:"#1DB954",itemIds:[]},"item-pool":{id:"item-pool",itemIds:[]}},columnOrder:["column-1","column-2","column-3","column-4"]},containsItem:function(e){},addToItemPool:function(e,t,n,r,a,s){},deleteFromItemPool:function(e,t){},addManyToItemPool:function(e){},deleteManyFromItemPool:function(e){}},Je=x.a.createContext(Ge),Ke=n(109),Ve=n.n(Ke),We=function(){var e=Object(G.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://8rgiik0cbd.execute-api.us-west-1.amazonaws.com/SpotifyLambdaProxyIntegration?searchURL=",e.next=3,Ve.a.get("https://8rgiik0cbd.execute-api.us-west-1.amazonaws.com/SpotifyLambdaProxyIntegration?searchURL=".concat(encodeURIComponent(t)));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(e){return{type:D,tracks:e}},Ze=function(e){return{type:N,albums:e}},Ye=function(e){return{type:B,artists:e}},Qe=function(e){return p=new Set,O=new Set,function(){var t=Object(G.a)(_.a.mark((function t(n){var r,a,s,c,i,o,l,u,d;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="https://api.spotify.com/v1/search?query=".concat(encodeURIComponent(e),"&type=track,album,artist&limit=24"),r+="&market=".concat(sessionStorage.getItem("regionLocked")),t.next=5,We(r);case 5:return a=t.sent,s=a.tracks,c=a.albums,i=a.artists,l=c,u=[],d=[],(o=s).items.forEach((function(e){var t=e.name;e.artists.forEach((function(e){t+=""+e.id})),p.has(t)||(p.add(t),u.push(e))})),o.items=u,n(ze(o)),l.items.forEach((function(e){var t=e.name;e.artists.forEach((function(e){t+=""+e.id})),!O.has(t)&&e.total_tracks>1&&(O.add(t),d.push(e))})),l.items=d,n(Ze(l)),t.abrupt("return",n(Ye(i)));case 18:t.prev=18,t.t0=t.catch(0),console.log("error",t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}()},Xe=function(e){return function(){var t=Object(G.a)(_.a.mark((function t(n){var r,a,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,We(e);case 3:return r=t.sent,a=r.tracks,s=[],a.items.forEach((function(e){var t=e.name;e.artists.forEach((function(e){t+=""+e.id})),p.has(t)||(p.add(t),s.push(e))})),a.items=s,t.abrupt("return",n({type:E,tracks:a}));case 11:t.prev=11,t.t0=t.catch(0),console.log("error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},qe=function(e){return function(){var t=Object(G.a)(_.a.mark((function t(n){var r,a,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,We(e);case 3:return r=t.sent,a=r.albums,s=[],a.items.forEach((function(e){var t=e.name;e.artists.forEach((function(e){t+=""+e.id})),!O.has(t)&&e.total_tracks>1&&(O.add(t),s.push(e))})),a.items=s,t.abrupt("return",n({type:T,albums:a}));case 11:t.prev=11,t.t0=t.catch(0),console.log("error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},$e=function(e){return function(){var t=Object(G.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,We(e);case 3:return r=t.sent,t.abrupt("return",n((a=r.artists,{type:A,artists:a})));case 7:t.prev=7,t.t0=t.catch(0),console.log("error",t.t0);case 10:case"end":return t.stop()}var a}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},et=function(){var e=Object(G.a)(_.a.mark((function e(t,n,r){var a,s,c,i,o,l;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Set,e.prev=1,s=[],c="https://api.spotify.com/v1/".concat(n,"s/").concat(encodeURIComponent(t),"/").concat(r,"s?limit=50"),"artist"===n&&(c+="&include_groups=album,single"),c+="&market=".concat(sessionStorage.getItem("regionLocked"));case 6:return e.next=8,We(c);case 8:i=e.sent,o=i.items,l=i.next,"artist"===n?function(){var e=[];o.forEach((function(t){!a.has(t.name)&&t.total_tracks>1&&(a.add(t.name),e.push(t))})),s=s.concat(e)}():s=s.concat(o),c=l;case 12:if(c){e.next=6;break}case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(1),console.log("error",e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,n,r){return e.apply(this,arguments)}}(),tt=function(){var e=Object(G.a)(_.a.mark((function e(t){var n,r,a,s,c,i,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n="https://api.spotify.com/v1/playlists/".concat(encodeURIComponent(t)),r=[],a=!0;case 4:return e.next=6,We(n);case 6:if(void 0!==(s=e.sent)&&void 0!==s.tracks){e.next=9;break}return e.abrupt("return",[]);case 9:c=a?s.tracks:s,i=c.items,o=c.next,a=!1,r=r.concat(i),n=o;case 13:if(n){e.next=4;break}case 14:return e.abrupt("return",r);case 17:e.prev=17,e.t0=e.catch(0),console.log("error",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),nt=n(158),rt=n(155),at=n(156),st=n(157),ct=n(161),it=n(25),ot=n.n(it),lt=n(85),ut=n(34),dt=n.n(ut),mt=function(e){var t=e.tracks,n=Object(g.useState)(!1),r=Object(oe.a)(n,2),a=r[0],s=r[1];return Object(ae.jsx)(x.a.Fragment,{children:Object.keys(t).length>0&&Object(ae.jsx)("div",{className:"tracks",children:t.items.map((function(e,t){var n=e.id,r="track",c=e.external_urls.spotify,i=e.name,o=e.artists.map((function(e){return e.name})).join(", "),l=ot.a.isEmpty(e.album.images)?null:e.album.images[0].url;return Object(ae.jsx)(x.a.Fragment,{children:Object(ae.jsx)(Je.Consumer,{children:function(e){var t=e.containsItem,u=e.addToItemPool,d=e.deleteFromItemPool;return Object(ae.jsx)(X.a,{className:"search-card",style:{margin:"0.25rem 0",backgroundColor:t(n,r)?"black":""},children:Object(ae.jsx)(q.a,{children:Object(ae.jsxs)($.a,{children:[Object(ae.jsx)(ee.a,{xs:"auto",children:Object(ae.jsx)("a",{className:"card-img-link",target:"_blank",href:c,rel:"noopener noreferrer",style:{filter:t(n,r)?"brightness(50%)":"brightness(100%)"},onDragStart:function(e){return e.preventDefault()},children:null!==l?Object(ae.jsx)(X.a.Img,{src:l,alt:"track album cover"}):Object(ae.jsx)(X.a.Img,{src:te,alt:"default album cover"})})}),Object(ae.jsx)(ee.a,{children:Object(ae.jsxs)(X.a.Body,{children:[Object(ae.jsx)(X.a.Title,{style:{color:t(n,r)?"#555":""},children:i}),Object(ae.jsx)(X.a.Text,{children:Object(ae.jsx)("small",{style:{color:t(n,r)?"#555":""},children:o})}),Object(ae.jsx)("div",{children:t(n,r)?Object(ae.jsx)("button",{className:"remove-buttons",onClick:function(){d(n,r),s(!a)},children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:ve,fluid:!0,alt:"remove track",style:{width:"75%",height:"75%"}})}):Object(ae.jsx)("button",{className:"item-buttons",onClick:function(){u(n,r,c,l,i,o),s(!a)},children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:Ne,fluid:!0,alt:"add track",style:{width:"65%",height:"65%"}})})})]})})]})})})}})},t)}))})})},bt=n.p+"static/media/cross-all.65a55dfa.svg",jt=n.p+"static/media/plus-all.776547ee.svg",ht=function(e){var t=e.albums,n=e.getInnerItems,r=Object(g.useState)(!1),a=Object(oe.a)(r,2),s=a[0],c=a[1],i=function(){var e=Object(G.a)(_.a.mark((function e(t,r){var a,s,c,i,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="album_".concat(t),null!==sessionStorage.getItem(a)){e.next=10;break}return s=[],e.next=5,n(t,"album","track");case 5:if(void 0!==(c=e.sent)&&void 0!==c[0]){e.next=8;break}return e.abrupt("return",null);case 8:for(i=0;i<c.length;i++)o=c[i],s.push({id:o.id,type:"track",songURL:o.external_urls.spotify,imgURL:r,title:o.name,subtitle:o.artists.map((function(e){return e.name})).join(", ")});sessionStorage.setItem(a,dt.a.compress(JSON.stringify(s)));case 10:return e.abrupt("return",JSON.parse(dt.a.decompress(sessionStorage.getItem(a))));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(ae.jsx)(x.a.Fragment,{children:Object.keys(t).length>0&&Object(ae.jsx)("div",{className:"albums",children:t.items.map((function(e,t){var n=e.id,r="album",a=e.external_urls.spotify,o=e.name,l=e.artists.map((function(e){return e.name})).join(", "),u=ot.a.isEmpty(e.images)?null:e.images[0].url;return Object(ae.jsx)(x.a.Fragment,{children:Object(ae.jsx)(Je.Consumer,{children:function(t){var d=t.containsItem,m=t.addToItemPool,b=t.deleteFromItemPool,j=t.addManyToItemPool,h=t.deleteManyFromItemPool;return Object(ae.jsx)(X.a,{className:"search-card",style:{margin:"0.25rem 0",backgroundColor:d(n,r)?"black":""},children:Object(ae.jsx)(q.a,{children:Object(ae.jsxs)($.a,{children:[Object(ae.jsx)(ee.a,{xs:"auto",children:Object(ae.jsx)("a",{className:"card-img-link",target:"_blank",href:a,rel:"noopener noreferrer",style:{filter:d(n,r)?"brightness(50%)":"brightness(100%)"},onDragStart:function(e){return e.preventDefault()},children:null!==u?Object(ae.jsx)(X.a.Img,{src:e.images[0].url,alt:"album cover"}):Object(ae.jsx)(X.a.Img,{src:ne,alt:"default album cover"})})}),Object(ae.jsx)(ee.a,{children:Object(ae.jsxs)(X.a.Body,{children:[Object(ae.jsx)(X.a.Title,{style:{color:d(n,r)?"#555":""},children:o}),Object(ae.jsx)(X.a.Text,{children:Object(ae.jsx)("small",{style:{color:d(n,r)?"#555":""},children:l})}),Object(ae.jsxs)("div",{children:[d(n,r)?Object(ae.jsx)("button",{className:"remove-buttons",onClick:function(){b(n,r),c(!s)},children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:ve,fluid:!0,alt:"remove album",style:{width:"75%",height:"75%"}})}):Object(ae.jsx)("button",{className:"item-buttons",onClick:function(){m(n,r,a,u,o,l),c(!s)},children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:Ne,fluid:!0,alt:"add album",style:{width:"65%",height:"65%"}})}),Object(ae.jsx)("button",{className:"item-buttons",style:{right:"2.5rem",transitionDelay:"0.025s"},onClick:Object(G.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n,u);case 2:(t=e.sent)&&(j(t,"track"),c(!s));case 4:case"end":return e.stop()}}),e)}))),children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:jt,fluid:!0,alt:"add all tracks in album",style:{width:"60%",height:"60%"}})}),Object(ae.jsx)("button",{className:"remove-buttons",style:{right:"4.5rem",transitionDelay:"0.050s"},onClick:Object(G.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n,u);case 2:(t=e.sent)&&(h(t,"track"),c(!s));case 4:case"end":return e.stop()}}),e)}))),children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:bt,fluid:!0,alt:"remove all tracks in album",style:{width:"60%",height:"60%"}})})]})]})}),Object(ae.jsx)(ee.a,{xs:"auto"})]})})})}})},t)}))})})},pt=function(e){var t=e.artists,n=e.getInnerItems,r=Object(g.useState)(!1),a=Object(oe.a)(r,2),s=a[0],c=a[1],i=function(){var e=Object(G.a)(_.a.mark((function e(t){var r,a,s,c,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="artist_".concat(t,"_").concat(sessionStorage.getItem("regionLocked")),null!==sessionStorage.getItem(r)){e.next=10;break}return a=[],e.next=5,n(t,"artist","album");case 5:if(void 0!==(s=e.sent)&&void 0!==s[0]){e.next=8;break}return e.abrupt("return",null);case 8:for(c=0;c<s.length;c++)i=s[c],a.push({id:i.id,type:"album",songURL:i.external_urls.spotify,imgURL:ot.a.isEmpty(i.images)?null:i.images[0].url,title:i.name,subtitle:i.artists.map((function(e){return e.name})).join(", ")}),console.log(i.id,i.name,i.release_date,i.total_tracks,i.available_markets);sessionStorage.setItem(r,dt.a.compress(JSON.stringify(a)));case 10:return e.abrupt("return",JSON.parse(dt.a.decompress(sessionStorage.getItem(r))));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ae.jsx)(x.a.Fragment,{children:Object.keys(t).length>0&&Object(ae.jsx)("div",{className:"artists",children:t.items.map((function(e,t){var n=e.id,r="artist",a=e.external_urls.spotify,o=e.name,l=ot.a.isEmpty(e.images)?null:e.images[0].url;return Object(ae.jsx)(x.a.Fragment,{children:Object(ae.jsx)(Je.Consumer,{children:function(t){var u=t.containsItem,d=t.addToItemPool,m=t.deleteFromItemPool,b=t.addManyToItemPool,j=t.deleteManyFromItemPool;return Object(ae.jsx)(X.a,{className:"search-card",style:{margin:"0.25rem 0",backgroundColor:u(n,r)?"black":""},children:Object(ae.jsx)(q.a,{children:Object(ae.jsxs)($.a,{children:[Object(ae.jsx)(ee.a,{xs:"auto",children:Object(ae.jsx)("a",{className:"card-img-link",target:"_blank",href:a,rel:"noopener noreferrer",style:{filter:u(n,r)?"brightness(50%)":"brightness(100%)"},onDragStart:function(e){return e.preventDefault()},children:null!==l?Object(ae.jsx)(X.a.Img,{src:e.images[0].url,alt:"artist"}):Object(ae.jsx)(X.a.Img,{src:re,alt:"default artist"})})}),Object(ae.jsx)(ee.a,{children:Object(ae.jsxs)(X.a.Body,{children:[Object(ae.jsx)(X.a.Title,{style:{color:u(n,r)?"#555":""},children:o}),Object(ae.jsxs)("div",{children:[u(n,r)?Object(ae.jsx)("button",{className:"remove-buttons",onClick:function(){m(n,r),c(!s)},children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:ve,fluid:!0,alt:"remove artist",style:{width:"75%",height:"75%"}})}):Object(ae.jsx)("button",{className:"item-buttons",onClick:function(){d(n,r,a,l,o,null),c(!s)},children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:Ne,fluid:!0,alt:"add artist",style:{width:"65%",height:"65%"}})}),Object(ae.jsx)("button",{className:"item-buttons",style:{right:"2.5rem"},onClick:Object(G.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n,l);case 2:(t=e.sent)&&(b(t,"album"),c(!s));case 4:case"end":return e.stop()}}),e)}))),children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:jt,fluid:!0,alt:"add all albums in artist",style:{width:"60%",height:"60%"}})}),Object(ae.jsx)("button",{className:"remove-buttons",style:{right:"4.5rem"},onClick:Object(G.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n,l);case 2:(t=e.sent)&&(j(t,"album"),c(!s));case 4:case"end":return e.stop()}}),e)}))),children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:bt,fluid:!0,alt:"remove all albums in artist",style:{width:"60%",height:"60%"}})})]})]})})]})})})}})},t)}))})})},Ot=function(e){var t=e.loadMore,n=e.getInnerItems,r=e.result,a=e.setCategory,s=e.selectedCategory,c=r.tracks,i=r.albums,o=r.artists;return Object(ae.jsxs)(x.a.Fragment,{children:[Object(ae.jsxs)("div",{className:"search-buttons",children:[!ot.a.isEmpty(c.items)&&Object(ae.jsx)("button",{className:"".concat("tracks"===s?"btn active":"btn"),onClick:function(){return a("tracks")},children:"Songs"}),!ot.a.isEmpty(i.items)&&Object(ae.jsx)("button",{className:"".concat("albums"===s?"btn active":"btn"),onClick:function(){return a("albums")},children:"Albums"}),!ot.a.isEmpty(o.items)&&Object(ae.jsx)("button",{className:"".concat("artists"===s?"btn active":"btn"),onClick:function(){return a("artists")},children:"Artists"})]}),Object(ae.jsx)("div",{className:"".concat("tracks"===s?"":"hide"),children:i&&Object(ae.jsx)(mt,{tracks:c})}),Object(ae.jsx)("div",{className:"".concat("albums"===s?"":"hide"),children:i&&Object(ae.jsx)(ht,{albums:i,getInnerItems:n})}),Object(ae.jsx)("div",{className:"".concat("artists"===s?"":"hide"),children:o&&Object(ae.jsx)(pt,{artists:o,getInnerItems:n})}),!ot.a.isEmpty(r[s])&&!ot.a.isEmpty(r[s].next)&&Object(ae.jsx)("div",{className:"load-more",children:Object(ae.jsx)(de.a,{variant:"info",type:"button",onClick:function(){return t(s)},children:"Load More"})})]})},ft=/^[a-z]{2}$/i,gt=function(e){if(!ft.test(e)){var t=typeof e;throw new TypeError("cc argument must be an ISO 3166-1 alpha-2 string, but got '".concat("string"===t?e:t,"' instead."))}var n=Object(C.a)(e.toUpperCase()).map((function(e){return e.codePointAt()+127397}));return String.fromCodePoint.apply(String,Object(C.a)(n))},xt=function(e){var t=Object(g.useState)(""),n=Object(oe.a)(t,2),r=n[0],a=n[1],s=Object(g.useState)(""),c=Object(oe.a)(s,2),i=c[0],o=c[1],l=Object(g.useState)(null!==sessionStorage.getItem("region")?gt(sessionStorage.getItem("region")):"\ud83c\udf10"),u=Object(oe.a)(l,2),d=u[0],m=u[1];return Object(ae.jsx)("div",{children:Object(ae.jsxs)(nt.a,{onSubmit:function(t){t.preventDefault(),""!==r.trim()?(o(""),m(gt(sessionStorage.getItem("region"))),sessionStorage.setItem("regionLocked",sessionStorage.getItem("region")),e.handleSearch(r)):o("Please enter a search term.")},children:[i&&Object(ae.jsx)("p",{className:"errorMsg",children:i}),Object(ae.jsxs)(rt.a,{children:[Object(ae.jsx)(nt.a.Control,{type:"search",name:"searchTerm",value:r,placeholder:"Search here!",onChange:function(e){var t=e.target.value;a(t)},autoComplete:"off"}),Object(ae.jsx)(rt.a.Text,{id:"search-flag",children:d})]})]})})},vt=function(e){var t=Object(g.useState)(document.createElement("div")),n=Object(oe.a)(t,1)[0],r=document.querySelector("#loader");return Object(g.useEffect)((function(){r.appendChild(n).classList.add("message")}),[r,n]),Object(g.useEffect)((function(){e.show?(r.classList.remove("hide"),document.body.classList.add("loader-open")):(r.classList.add("hide"),document.body.classList.remove("loader-open"))}),[r,e.show]),y.a.createPortal(e.children,n)},yt=Object(S.b)((function(e){return{tracks:e.tracks,albums:e.albums,artists:e.artists}}))((function(e){var t=Object(g.useState)(!1),n=Object(oe.a)(t,2),r=n[0],a=n[1],s=[e.selectedCategory,e.updateCategory],c=s[0],i=s[1],o=function(){var t=Object(G.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(!0),e.dispatch(Qe(n)).then((function(){a(!1)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(G.a)(_.a.mark((function t(n){var r,s,c,i;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.dispatch,s=e.tracks,c=e.albums,i=e.artists,a(!0),t.t0=n,t.next="tracks"===t.t0?5:"albums"===t.t0?8:"artists"===t.t0?11:14;break;case 5:return t.next=7,r(Xe(s.next));case 7:return t.abrupt("break",14);case 8:return t.next=10,r(qe(c.next));case 10:return t.abrupt("break",14);case 11:return t.next=13,r($e(i.next));case 13:return t.abrupt("break",14);case 14:a(!1);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var e=Object(G.a)(_.a.mark((function e(t,n,r){var s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,et(t,n,r);case 3:return s=e.sent,a(!1),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),d={tracks:e.tracks,albums:e.albums,artists:e.artists};return Object(ae.jsx)(x.a.Fragment,{children:Object(ae.jsxs)("div",{children:[Object(ae.jsx)(xt,{handleSearch:o}),Object(ae.jsxs)(vt,{show:r,children:[Object(ae.jsx)(at.a,{animation:"border",role:"status",style:{marginRight:"0.5rem"}}),"Loading..."]}),Object(ae.jsx)(Ot,{result:d,loadMore:l,getInnerItems:u,setCategory:function(e){i(e)},selectedCategory:c})]})})})),St=function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(e){var r;return Object(J.a)(this,n),(r=t.call(this,e)).updateCategory=function(e){return r.setState({selectedCategory:e})},r.state={selectedCategory:"tracks"},r}return Object(K.a)(n,[{key:"render",value:function(){return Object(ae.jsx)("div",{className:"sidebar-search",children:Object(ae.jsx)(yt,{selectedCategory:this.state.selectedCategory,updateCategory:this.updateCategory},this.props.refreshSidebar)})}}]),n}(x.a.Component),It=["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TW","TZ","UA","UG","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"],kt=function(e){var t=Object(g.useState)(null===sessionStorage.getItem("region")?"US":sessionStorage.getItem("region")),n=Object(oe.a)(t,2),r=n[0],a=n[1];sessionStorage.setItem("region",r);return Object(ae.jsx)("div",{children:Object(ae.jsx)(je.a,{placement:"left",overlay:Object(ae.jsx)(he.a,{children:"Select Region"}),children:Object(ae.jsx)(nt.a.Select,{id:"region-selector","aria-label":"Spotify Region Selector",size:"sm",value:r,onChange:function(e){var t=e.target.value;sessionStorage.setItem("region",t),a(t)},children:It.map((function(e){return Object(ae.jsx)("option",{className:"region-selector-option",value:e,children:e},e)}))})})})},Ct=n.p+"static/media/search.75a0c657.svg",wt=n.p+"static/media/playlist.52cda70d.svg",Dt=Z.a.div(f||(f=Object(z.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Et=["#F63E02","#F5B700","#1DB954","#4D9DE0","#360568","#DC3CA0"],Nt=["jpeg","png","svg"],Tt=!1,Bt=!1,At=!1,Rt=!1,Lt=!1,Mt=!1,Pt="bottom text",Ft=!1,Ht="",Ut=!1,_t=!1,Gt=function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(K.a)(n,[{key:"render",value:function(){var e=this.props,t=e.column,n=e.itemMap,r=e.index,a=e.updateHeader,s=e.deleteHandler,c=e.toggleEditMode,i=t.itemIds.map((function(e){return n[e]}));return Object(ae.jsx)(Ee,{column:t,items:i,index:r,updateHeader:a,deleteHandler:s,presetColors:Et,toggleEditMode:c},Bt)}}]),n}(x.a.PureComponent),Jt=function(e){Object(V.a)(n,e);var t=Object(W.a)(n);function n(){var e;Object(J.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state=null!==sessionStorage.getItem("saveState")?JSON.parse(dt.a.decompress(sessionStorage.getItem("saveState"))):e.context.data,e.saveStateToStorage=function(){return sessionStorage.setItem("saveState",dt.a.compress(JSON.stringify(e.state)))},e.importFromJson=function(t){var n=new FileReader;n.readAsText(t.target.files[0],"UTF-8"),n.onload=function(t){var n=JSON.parse(t.target.result);if(!("columnOrder"in n&&"items"in n&&"columns"in n&&"item-pool"in n.columns&&"id"in n.columns["item-pool"]&&"item-pool"===n.columns["item-pool"].id&&"itemIds"in n.columns["item-pool"]&&Array.isArray(n.columns["item-pool"].itemIds)))return Mt=!0,Pt="File is missing item-pool!",void e.setState(e.state);var r=!0,a=["id","title","color","itemIds"];if(Object.keys(n.columns).forEach((function(e){if(r&&"item-pool"!==e){var t=Object.keys(n.columns[e]);r=t.length===a.length&&t.every((function(e,t){return e===a[t]}))}})),!r)return Mt=!0,Pt="File is missing required column information!",void e.setState(e.state);var s=n.columnOrder,c=Object.keys(n.columns);if(c.splice(c.indexOf("item-pool"),1),s.length!==c.length||!s.every((function(e){return c.includes(e)})))return Mt=!0,Pt="File columnOrder and columns don't match!",void e.setState(e.state);var i=!0,o=["id","type","songURL","imgURL","title","subtitle"];if(Object.keys(n.items).forEach((function(e){if(i){var t=Object.keys(n.items[e]);i=t.length===o.length&&t.every((function(e,t){return e===o[t]}))}})),!i)return Mt=!0,Pt="File is missing required item information!",void e.setState(e.state);var l=Object.keys(n.items),u=[];if(Object.keys(n.columns).forEach((function(e){u=u.concat(n.columns[e].itemIds)})),u.length!==l.length||!u.every((function(e){return l.includes(e)})))return Mt=!0,Pt="File items and itemIds don't match!",void e.setState(e.state);_t=!1,Lt=n.columns["item-pool"].itemIds.length>0&&!Rt,Tt=!Tt,e.setState(n)}},e.importFromPlaylist=Object(G.a)(_.a.mark((function t(){var n,r,a,s,c,i;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ut=!0,e.setState(e.state),t.next=4,tt(Ht);case 4:if(n=t.sent,r="playlist_".concat(Ht),null!==sessionStorage.getItem(r)){t.next=15;break}if(a=[],void 0!==n&&void 0!==n[0]){t.next=12;break}return Mt=!0,Pt="Playlist does not exist (or is private)!",t.abrupt("return",null);case 12:for(e.removeAllItems(),s=0;s<n.length;s++)c=n[s].track,a.push({id:c.id,type:"track",songURL:c.external_urls.spotify,imgURL:ot.a.isEmpty(c.album.images)?null:c.album.images[0].url,title:c.name,subtitle:c.artists.map((function(e){return e.name})).join(", ")});sessionStorage.setItem(r,dt.a.compress(JSON.stringify(a)));case 15:return i=JSON.parse(dt.a.decompress(sessionStorage.getItem(r))),e.context.addManyToItemPool(i,"track"),t.abrupt("return",i);case 18:case"end":return t.stop()}}),t)}))),e.deleteItem=function(t,n,r){var a=Array.from(r.itemIds);a.splice(n.index,1);var s=Object(w.a)(Object(w.a)({},r),{},{itemIds:a}),c=e.state.items,i=Object.keys(c).reduce((function(e,n){return n!==t&&(e[n]=c[n]),e}),{}),o=Object(w.a)(Object(w.a)({},e.state),{},{items:i,columns:Object(w.a)(Object(w.a)({},e.state.columns),{},Object(H.a)({},s.id,s))});Tt=!Tt,e.setState(o)},e.updateColHeader=function(t,n,r){var a=e.state.columns[t],s=Object(w.a)(Object(w.a)({},a),{},{title:n,color:r}),c=Object(w.a)(Object(w.a)({},e.state),{},{columns:Object(w.a)(Object(w.a)({},e.state.columns),{},Object(H.a)({},t,s))});e.setState(c)},e.addNewCol=function(t){var n="column-".concat((new Date).getTime()),r=e.state.columnOrder;r.splice(t,0,n);var a=Object(w.a)(Object(w.a)({},e.state),{},{columnOrder:r});a.columns[n]={id:n,title:"NEW",color:"#535353",itemIds:[]},e.setState(a)},e.removeCol=function(t,n){var r=e.state.items,a=n?r:Object.keys(r).reduce((function(n,a){return e.state.columns[t].itemIds.includes(a)||(n[a]=r[a]),n}),{}),s=Array.from(e.state.columnOrder);s.splice(s.indexOf(t),1);var c=e.state.columns;n&&(c["item-pool"].itemIds=c["item-pool"].itemIds.concat(c[t].itemIds));var i=Object.keys(c).reduce((function(e,n){return n!==t&&(e[n]=c[n]),e}),{}),o=Object(w.a)(Object(w.a)({},e.state),{},{items:a,columns:i,columnOrder:s});Tt=!Tt,e.setState(o)},e.resetAllItems=function(){var t=e.state.columns;Object.keys(t).forEach((function(e){"item-pool"!==e&&(t["item-pool"].itemIds=t["item-pool"].itemIds.concat(t[e].itemIds),t[e].itemIds=[])}));var n=Object(w.a)(Object(w.a)({},e.state),{},{columns:t});_t=!1,Lt=n.columns["item-pool"].itemIds.length>0&&!Rt,Bt=!Bt,e.setState(n)},e.removeAllItems=function(){e.resetAllItems();var t=Object(w.a)(Object(w.a)({},e.state),{},{columns:Object(w.a)(Object(w.a)({},e.state.columns),{},{"item-pool":{id:"item-pool",itemIds:[]}}),items:{}});_t=!1,Lt=!1,Tt=!Tt,e.setState(t)},e.resetAllColumns=function(){e.resetAllItems();var t=Object(w.a)(Object(w.a)({},e.state),{},{columns:{"column-1":{id:"column-1",title:"S",color:"#DC3CA0",itemIds:[]},"column-2":{id:"column-2",title:"A",color:"#F63E02",itemIds:[]},"column-3":{id:"column-3",title:"B",color:"#F5B700",itemIds:[]},"column-4":{id:"column-4",title:"C",color:"#1DB954",itemIds:[]},"item-pool":Object(w.a)({},e.state.columns["item-pool"])},columnOrder:["column-1","column-2","column-3","column-4"]});_t=!1,e.setState(t)},e.resetTierList=function(){e.resetAllItems();var t=Object(w.a)(Object(w.a)({},e.state),{},{columns:{"column-1":{id:"column-1",title:"S",color:"#DC3CA0",itemIds:[]},"column-2":{id:"column-2",title:"A",color:"#F63E02",itemIds:[]},"column-3":{id:"column-3",title:"B",color:"#F5B700",itemIds:[]},"column-4":{id:"column-4",title:"C",color:"#1DB954",itemIds:[]},"item-pool":{id:"item-pool",itemIds:[]}},items:{},columnOrder:["column-1","column-2","column-3","column-4"]});_t=!1,Lt=!1,Tt=!Tt,e.setState(t)},e.showSearch=function(t){t?(document.getElementById("tierlist-all").classList.add("show-search"),document.getElementById("search-toggle").classList.add("show-search")):(document.getElementById("tierlist-all").classList.remove("show-search"),document.getElementById("search-toggle").classList.remove("show-search")),At=t,e.setState(e.state)},e.showItems=function(t){t?(document.getElementById("tierlist-all").classList.add("show-items"),document.getElementById("itempool-toggle").classList.add("show-items")):(document.getElementById("tierlist-all").classList.remove("show-items"),document.getElementById("itempool-toggle").classList.remove("show-items")),Rt=t,Lt=!1,e.setState(e.state)},e.onDragEnd=function(t){var n,r=t.destination,a=t.source,s=t.draggableId,c=t.type;if(r&&(r.droppableId!==a.droppableId||r.index!==a.index))if("column"!==c){var i=e.state.columns[a.droppableId],o=e.state.columns[r.droppableId];if("trash-can"!==r.droppableId)if(i!==o){var l=Array.from(i.itemIds);l.splice(a.index,1);var u=Object(w.a)(Object(w.a)({},i),{},{itemIds:l}),d=Array.from(o.itemIds);d.splice(r.index,0,s);var m=Object(w.a)(Object(w.a)({},o),{},{itemIds:d}),b=Object(w.a)(Object(w.a)({},e.state),{},{columns:Object(w.a)(Object(w.a)({},e.state.columns),{},(n={},Object(H.a)(n,u.id,u),Object(H.a)(n,m.id,m),n))});e.setState(b)}else{var j=Array.from(i.itemIds);j.splice(a.index,1),j.splice(r.index,0,s);var h=Object(w.a)(Object(w.a)({},i),{},{itemIds:j}),p=Object(w.a)(Object(w.a)({},e.state),{},{columns:Object(w.a)(Object(w.a)({},e.state.columns),{},Object(H.a)({},h.id,h))});e.setState(p)}else e.deleteItem(s,a,i)}else{var O=Array.from(e.state.columnOrder);O.splice(a.index,1),O.splice(r.index,0,s);var f=Object(w.a)(Object(w.a)({},e.state),{},{columnOrder:O});e.setState(f)}},e}return Object(K.a)(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.saveStateToStorage)}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",this.saveStateToStorage),this.context.containsItem=function(t,n){return t in e.state.items&&e.state.items[t].type===n},this.context.addToItemPool=function(t,n,r,a,s,c){if(!e.context.containsItem(t,n)){var i=Object(w.a)(Object(w.a)({},e.state.items),{},Object(H.a)({},t,{id:t,type:n,songURL:r,imgURL:a,title:s,subtitle:c})),o=Array.from(e.state.columns["item-pool"].itemIds).concat(t),l=Object(w.a)(Object(w.a)({},e.state.columns["item-pool"]),{},{itemIds:o}),u=Object(w.a)(Object(w.a)({},e.state),{},{items:i,columns:Object(w.a)(Object(w.a)({},e.state.columns),{},{"item-pool":l})});Lt=!Rt,e.setState(u)}},this.context.deleteFromItemPool=function(t,n){if(e.context.containsItem(t,n)){var r=e.state.items;delete r[t];var a=e.state.columns;Object.keys(a).forEach((function(e){var n=a[e].itemIds.indexOf(t);-1!==n&&a[e].itemIds.splice(n,1)}));var s=Object(w.a)(Object(w.a)({},e.state),{},{items:r,columns:a});Bt=!Bt,0===e.state.columns["item-pool"].itemIds.length&&(Lt=!1),e.setState(s)}},this.context.addManyToItemPool=function(t,n){for(var r=0;r<t.length;r++){var a=t[r];e.context.addToItemPool(a.id,n,a.songURL,a.imgURL,a.title,a.subtitle)}},this.context.deleteManyFromItemPool=function(t,n){for(var r=0;r<t.length;r++){var a=t[r];e.context.deleteFromItemPool(a.id,n)}}}},{key:"saveAsIMG",value:function(e){var t=this;_t=!1,this.setState(this.state,(function(){var n=function(t){var n=document.createElement("a");n.download="tierlist.".concat(e),n.href=t,n.click()},r=document.getElementById("tierlist-inner"),a=r.getBoundingClientRect().width,s=r.scrollWidth,c=r.scrollHeight;s>a&&(s+=8),"jpeg"===e&&Object(lt.a)(r,{backgroundColor:"#121212",pixelRatio:2,width:s,height:c}).then(n).catch((function(e){Mt=!0,Pt=e,t.setState(t.state)})),"png"===e&&Object(lt.b)(r,{backgroundColor:"#121212",pixelRatio:2,width:s,height:c}).then(n).catch((function(e){Mt=!0,Pt=e,t.setState(t.state)})),"svg"===e&&Object(lt.c)(r,{backgroundColor:"#121212",width:s,height:c}).then(n).catch((function(e){Mt=!0,Pt=e,t.setState(t.state)}))}))}},{key:"render",value:function(){var e=this;return Object(ae.jsxs)("div",{id:"tierlist-all",style:{display:"flex",flexDirection:"column",height:"100vh"},children:[Object(ae.jsxs)(ue.a,{id:"delete-modal",show:Mt,onHide:function(){Mt=!1,e.setState(e.state)},size:"sm",children:[Object(ae.jsx)(ue.a.Header,{closeButton:!0,closeVariant:"white",children:Object(ae.jsx)(ue.a.Title,{style:{color:"#D30000"},children:"Error!"})}),Object(ae.jsx)(ue.a.Body,{children:Pt}),Object(ae.jsx)(ue.a.Footer,{children:Object(ae.jsx)(de.a,{variant:"success",id:"keep-items",onClick:function(){Mt=!1,e.setState(e.state)},children:"Okay"})})]}),Object(ae.jsxs)(ue.a,{id:"playlist-modal",show:Ft,onHide:function(){Ft=!1,e.setState(e.state),Ht=""},backdrop:!Ut||"static",children:[Object(ae.jsx)(ue.a.Header,{closeButton:!Ut,closeVariant:"white",children:Object(ae.jsx)(ue.a.Title,{style:{color:"#1DB954"},children:"Import from Playlist"})}),Object(ae.jsx)(ue.a.Body,{style:{width:"27rem",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(ae.jsx)(nt.a,{onSubmit:function(){var t=Object(G.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e.importFromPlaylist();case 3:Ft=!1,Ht="",e.setState(e.state);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(ae.jsxs)(rt.a,{style:{width:"24rem"},children:[Object(ae.jsx)(rt.a.Text,{id:"search-flag",style:{fontSize:"0.75rem",borderLeftStyle:"solid",borderRightStyle:"none",color:"#777",padding:"0.25rem 0.25rem 0.25rem 0.5rem"},children:"open.spotify.com/playlist/"}),Object(ae.jsx)(nt.a.Control,{style:{fontSize:"0.75rem",borderLeftStyle:"none",borderRightStyle:"solid",padding:"0.25rem 0.5rem 0.25rem 0.25rem"},type:"search",name:"searchTerm",value:Ht,placeholder:"playlist id",onChange:function(t){Ht=t.target.value,e.setState(e.state)},autoComplete:"off"})]})})}),Object(ae.jsxs)(ue.a.Footer,{children:[Object(ae.jsx)(de.a,{variant:"success",id:"keep-items",style:{display:Ut?"none":"inline-block"},onClick:Object(G.a)(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.importFromPlaylist();case 2:Ft=!1,Ht="",Ut=!1,e.setState(e.state);case 6:case"end":return t.stop()}}),t)}))),children:"Import"}),Object(ae.jsxs)("div",{id:"playlist-loading",style:{display:Ut?"flex":"none"},children:[Object(ae.jsx)(at.a,{animation:"border",role:"status",style:{marginRight:"0.5rem"}}),"Loading..."]})]})]}),Object(ae.jsxs)(Dt,{style:{flexWrap:"wrap",margin:"1.5rem 3rem 0 3rem"},children:[Object(ae.jsx)("h1",{className:"title-heading",children:"Spotify Tier List Maker"}),Object(ae.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",margin:"0 1.5rem"},children:[Object(ae.jsx)(je.a,{placement:"top",overlay:Object(ae.jsx)(he.a,{children:"Add/Delete Columns"}),children:Object(ae.jsx)(de.a,{id:"toolbar-button",style:_t?{color:"white"}:{},size:"lg",variant:"outline-secondary",onClick:function(){_t=!_t,e.setState(e.state)},children:"Edit"})}),Object(ae.jsx)(je.a,{placement:"top",overlay:Object(ae.jsx)(he.a,{children:"Reset Placements"}),children:Object(ae.jsxs)(st.a,{className:"toolbar-dropdown",size:"lg",variant:"outline-secondary",menuVariant:"dark",title:"Reset",menuRole:"Reset placements",children:[Object(ae.jsx)(me.a.Item,{as:"button",onClick:this.resetAllItems,children:"Reset All Items"}),Object(ae.jsx)(me.a.Item,{as:"button",onClick:this.removeAllItems,children:"Delete All Items"}),Object(ae.jsx)(me.a.Item,{as:"button",onClick:this.resetAllColumns,children:"Reset All Columns"}),Object(ae.jsx)(me.a.Item,{as:"button",onClick:this.resetTierList,children:"Reset Tier List"})]})}),Object(ae.jsx)(je.a,{placement:"top",overlay:Object(ae.jsx)(he.a,{children:"Save Image"}),children:Object(ae.jsx)(st.a,{className:"toolbar-dropdown",size:"lg",variant:"outline-secondary",menuVariant:"dark",title:"Save",menuRole:"Save as image",children:Nt.map((function(t){return Object(ae.jsxs)(me.a.Item,{as:"button",type:"button",onClick:function(){return e.saveAsIMG(t)},children:["Save as .",t]},t)}))})}),Object(ae.jsx)(je.a,{placement:"top",overlay:Object(ae.jsx)(he.a,{children:"Import/Export Data"}),children:Object(ae.jsxs)(st.a,{className:"toolbar-dropdown",size:"lg",variant:"outline-secondary",menuVariant:"dark",title:"Data",menuRole:"Import/export .json data",children:[Object(ae.jsx)(me.a.Item,{as:"button",style:{letterSpacing:"1px"},onClick:function(){Ft=!0,e.setState(e.state)},children:"Import from Playlist"}),Object(ae.jsx)(me.a.Item,{href:"data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(this.state))),download:"tierlist.json",id:"export-data",onSelect:function(){_t=!1,e.setState(e.state)},onDragStart:function(e){return e.preventDefault()},children:"Export as Json"}),Object(ae.jsxs)(me.a.ItemText,{id:"import-data",children:[Object(ae.jsx)("label",{style:{width:"100%",height:"100%"},htmlFor:"import_tierlist",children:"Import from Json"}),Object(ae.jsx)("br",{}),Object(ae.jsx)("input",{style:{display:"none"},type:"file",id:"import_tierlist",name:"import_tierlist",accept:".json",onChange:this.importFromJson})]})]})})]})]}),Object(ae.jsxs)(Y.a,{onDragEnd:this.onDragEnd,children:[Object(ae.jsx)("div",{id:"tierlist-outer",children:Object(ae.jsx)("div",{id:"tierlist-holder",children:Object(ae.jsx)(Y.c,{droppableId:"tiers",direction:"horizontal",type:"column",children:function(t){return Object(g.createElement)("div",Object(w.a)(Object(w.a)({},t.droppableProps),{},{ref:t.innerRef,key:Bt,id:"tierlist-inner"}),e.state.columnOrder.map((function(t,n){var r=e.state.columns[t];return Object(ae.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[_t&&Object(ae.jsx)(Be,{index:n,addHandler:e.addNewCol},"add-btn-".concat(n)),Object(ae.jsx)(Gt,{column:r,itemMap:e.state.items,index:n,updateHeader:e.updateColHeader,deleteHandler:e.removeCol,toggleEditMode:_t},r.id)]},n)})),_t&&Object(ae.jsx)(Be,{index:e.state.columnOrder.length,addHandler:e.addNewCol},"add-btn-".concat(e.state.columnOrder.length)),t.placeholder)}})})}),Object(ae.jsx)(je.a,{placement:"right",overlay:Object(ae.jsxs)(he.a,{children:[Rt?"Hide":"Show"," Items"]}),children:Object(ae.jsxs)(de.a,{id:"itempool-toggle",type:"button",onClick:function(){return e.showItems(!Rt)},children:[Lt&&Object(ae.jsx)("div",{id:"item-notif-badge"}),Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:wt,fluid:!0,alt:"toggle music items",style:{width:"100%",height:"100%",filter:Rt?"invert(100%)":""}})]})}),Object(ae.jsxs)(ct.a,{id:"itempool-overlay",show:Rt,onHide:function(){return e.showItems(!1)},placement:"start",scroll:!0,backdrop:!1,children:[Object(ae.jsx)(ct.a.Header,{style:{justifyContent:"center",padding:"0.5rem 1rem 0 1rem"},children:Object(ae.jsx)(ct.a.Title,{children:Object(ae.jsx)(_e,{})})}),Object(ae.jsxs)(ct.a.Body,{style:{padding:0},children:[Object(ae.jsx)("h1",{className:"main-heading",children:"Items"}),Object(ae.jsx)(Me,{items:this.state.columns["item-pool"].itemIds.map((function(t){return e.state.items[t]}))})]})]})]}),Object(ae.jsx)(je.a,{placement:"left",overlay:Object(ae.jsxs)(he.a,{children:[At?"Hide":"Show"," Search"]}),children:Object(ae.jsx)(de.a,{id:"search-toggle",type:"button",onClick:function(){return e.showSearch(!At)},children:Object(ae.jsx)(le.a,{onDragStart:function(e){return e.preventDefault()},src:Ct,fluid:!0,alt:"toggle search bar",style:{width:"100%",height:"100%",filter:At?"invert(100%)":""}})})}),Object(ae.jsxs)(ct.a,{id:"sidebar-overlay",show:At,onHide:function(){return e.showSearch(!1)},placement:"end",scroll:!0,backdrop:!1,children:[Object(ae.jsxs)(ct.a.Header,{style:{justifyContent:"center",paddingBottom:"0.5rem"},children:[Object(ae.jsx)(ct.a.Title,{children:Object(ae.jsx)("h1",{className:"main-heading",children:"Search"})}),Object(ae.jsx)(kt,{refreshSidebar:Tt})]}),Object(ae.jsx)(ct.a.Body,{style:{padding:"0.5rem 0 0 0",overflowY:"scroll"},children:Object(ae.jsx)(St,{refreshSidebar:Tt})})]})]})}}]),n}(x.a.Component);Jt.contextType=Je;var Kt=Jt;n(142),n(143);y.a.render(Object(ae.jsx)(Je.Provider,{value:Ge,children:Object(ae.jsx)(S.a,{store:F,children:Object(ae.jsx)(Kt,{})})}),document.getElementById("root"))},94:function(e,t,n){}},[[144,1,2]]]);
//# sourceMappingURL=main.1d4da850.chunk.js.map