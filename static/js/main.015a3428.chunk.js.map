{"version":3,"sources":["utils/constants.js","reducers/albums.js","reducers/artists.js","reducers/playlist.js","store/store.js","utils/functions.js","utils/api.js","actions/result.js","images/music.jpeg","components/AlbumsList.js","components/ArtistsList.js","components/PlayList.js","components/SearchResult.js","components/SearchForm.js","components/Header.js","components/Loader.js","components/Dashboard.js","components/Main.js","index.js"],"names":["SET_ALBUMS","ADD_ALBUMS","SET_ARTISTS","ADD_ARTISTS","SET_PLAYLIST","ADD_PLAYLIST","albumsReducer","state","action","albums","type","next","items","artistsReducer","artists","playlistReducer","playlists","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","playlist","applyMiddleware","thunk","setAuthHeader","params","JSON","parse","localStorage","getItem","axios","defaults","headers","common","error","console","log","get","url","a","result","data","getAuthToken","process","Accept","auth","username","password","grant_type","post","qs","stringify","response","setAlbums","setArtists","setPlayList","initiateGetResult","searchTerm","dispatch","API_URL","encodeURIComponent","initiateLoadMoreAlbums","initiateLoadMoreArtists","initiateLoadMorePlaylist","AlbumsList","Fragment","Object","keys","length","className","map","album","index","Card","style","width","target","href","external_urls","spotify","rel","_","isEmpty","images","src","music","alt","Img","variant","Body","Title","name","Text","artist","join","ArtistsList","PlayList","item","owner","display_name","SearchResult","props","isValidSession","loadMore","setCategory","selectedCategory","onClick","Button","SearchForm","useState","setSearchTerm","errorMsg","setErrorMsg","Form","onSubmit","event","preventDefault","trim","handleSearch","Group","controlId","Label","Control","value","placeholder","onChange","autoComplete","Header","Loader","document","createElement","node","loader","querySelector","useEffect","appendChild","classList","add","show","remove","body","ReactDOM","createPortal","children","connect","isLoading","setIsLoading","setSelectedCategory","refreshSession","then","category","Main","access_token","expires_in","setItem","Date","getTime","loaded","setState","expiryTime","this","React","Component","render","getElementById"],"mappings":"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","file":"static/js/main.015a3428.chunk.js","sourcesContent":["export const SET_ALBUMS = 'SET_ALBUMS';\r\nexport const ADD_ALBUMS = 'ADD_ALBUMS';\r\nexport const SET_ARTISTS = 'SET_ARTISTS';\r\nexport const ADD_ARTISTS = 'ADD_ARTISTS';\r\nexport const SET_PLAYLIST = 'SET_PLAYLIST';\r\nexport const ADD_PLAYLIST = 'ADD_PLAYLIST';\r\n","import { SET_ALBUMS, ADD_ALBUMS } from '../utils/constants';\r\n\r\nconst albumsReducer = (state = {}, action) => {\r\n  const { albums } = action;\r\n  switch (action.type) {\r\n    case SET_ALBUMS:\r\n      return albums;\r\n    case ADD_ALBUMS:\r\n      return {\r\n        ...state,\r\n        next: albums.next,\r\n        items: [...state.items, ...albums.items]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default albumsReducer;","import { SET_ARTISTS, ADD_ARTISTS } from '../utils/constants';\r\n\r\nconst artistsReducer = (state = {}, action) => {\r\n  const { artists } = action;\r\n  switch (action.type) {\r\n    case SET_ARTISTS:\r\n      return artists;\r\n    case ADD_ARTISTS:\r\n      return {\r\n        ...state,\r\n        next: artists.next,\r\n        items: [...state.items, ...artists.items]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default artistsReducer;","import { SET_PLAYLIST, ADD_PLAYLIST } from '../utils/constants';\r\n\r\nconst playlistReducer = (state = {}, action) => {\r\n  const { playlists } = action;\r\n  switch (action.type) {\r\n    case SET_PLAYLIST:\r\n      return playlists;\r\n    case ADD_PLAYLIST:\r\n      return {\r\n        ...state,\r\n        next: playlists.next,\r\n        items: [...state.items, ...playlists.items]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default playlistReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport albumsReducer from '../reducers/albums';\r\nimport artistsReducer from '../reducers/artists';\r\nimport playlistReducer from '../reducers/playlist';\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  combineReducers({\r\n    albums: albumsReducer,\r\n    artists: artistsReducer,\r\n    playlist: playlistReducer\r\n  }),\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import axios from 'axios';\r\n\r\nexport const getParamValues = (url) => {\r\n  return url\r\n    .slice(1)\r\n    .split('&')\r\n    .reduce((prev, curr) => {\r\n      const [title, value] = curr.split('=');\r\n      prev[title] = value;\r\n      return prev;\r\n    }, {});\r\n};\r\n\r\nexport const setAuthHeader = () => {\r\n  try {\r\n    const params = JSON.parse(localStorage.getItem('params'));\r\n    if (params) {\r\n      axios.defaults.headers.common[\r\n        'Authorization'\r\n      ] = `Bearer ${params}`;\r\n    }\r\n  } catch (error) {\r\n    console.log('Error setting auth', error);\r\n  }\r\n};\r\n","import axios from 'axios';\r\nimport qs from 'qs';\r\nimport { setAuthHeader } from './functions';\r\n\r\nexport const get = async (url, params) => {\r\n  setAuthHeader();\r\n  const result = await axios.get(url, params);\r\n  return result.data;\r\n};\r\n\r\nexport const post = async (url, params) => {\r\n  setAuthHeader();\r\n  const result = await axios.post(url, params);\r\n  return result.data;\r\n};\r\n\r\nexport const getAuthToken = async () => {\r\n  const clientId = process.env.REACT_APP_CLIENT_ID;\r\n  const clientSecret = process.env.REACT_APP_CLIENT_SECRET;\r\n  \r\n  const headers = {\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n    auth: {\r\n      username: clientId,\r\n      password: clientSecret,\r\n    },\r\n  };\r\n  const data = {\r\n    grant_type: 'client_credentials',\r\n  };\r\n\r\n  try {\r\n    const response = await axios.post(\r\n      'https://accounts.spotify.com/api/token',\r\n      qs.stringify(data),\r\n      headers\r\n    );\r\n    return response.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};","import {\r\n  SET_ALBUMS,\r\n  ADD_ALBUMS,\r\n  SET_ARTISTS,\r\n  ADD_ARTISTS,\r\n  SET_PLAYLIST,\r\n  ADD_PLAYLIST\r\n} from '../utils/constants';\r\nimport { get } from '../utils/api';\r\n\r\nexport const setAlbums = (albums) => ({\r\n  type: SET_ALBUMS,\r\n  albums\r\n});\r\n\r\nexport const addAlbums = (albums) => ({\r\n  type: ADD_ALBUMS,\r\n  albums\r\n});\r\n\r\nexport const setArtists = (artists) => ({\r\n  type: SET_ARTISTS,\r\n  artists\r\n});\r\n\r\nexport const addArtists = (artists) => ({\r\n  type: ADD_ARTISTS,\r\n  artists\r\n});\r\n\r\nexport const setPlayList = (playlists) => ({\r\n  type: SET_PLAYLIST,\r\n  playlists\r\n});\r\nexport const addPlaylist = (playlists) => ({\r\n  type: ADD_PLAYLIST,\r\n  playlists\r\n});\r\n\r\nexport const initiateGetResult = (searchTerm) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const API_URL = `https://api.spotify.com/v1/search?query=${encodeURIComponent(\r\n        searchTerm\r\n      )}&type=album,playlist,artist`;\r\n      const result = await get(API_URL);\r\n      console.log(result);\r\n      const { albums, artists, playlists } = result;\r\n      dispatch(setAlbums(albums));\r\n      dispatch(setArtists(artists));\r\n      return dispatch(setPlayList(playlists));\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const initiateLoadMoreAlbums = (url) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      console.log('url', url);\r\n      const result = await get(url);\r\n      console.log('categoriess', result);\r\n      return dispatch(addAlbums(result.albums));\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const initiateLoadMoreArtists = (url) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      console.log('url', url);\r\n      const result = await get(url);\r\n      console.log('categoriess', result);\r\n      return dispatch(addArtists(result.artists));\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const initiateLoadMorePlaylist = (url) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      console.log('url', url);\r\n      const result = await get(url);\r\n      console.log('categoriess', result);\r\n      return dispatch(addPlaylist(result.playlists));\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  };\r\n};\r\n","export default __webpack_public_path__ + \"static/media/music.b2fe7d4d.jpeg\";","import React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport _ from 'lodash';\r\nimport music from '../images/music.jpeg';\r\n\r\nconst AlbumsList = ({ albums }) => {\r\n  return (\r\n    <React.Fragment>\r\n      {Object.keys(albums).length > 0 && (\r\n        <div className=\"albums\">\r\n          {albums.items.map((album, index) => {\r\n            return (\r\n              <React.Fragment key={index}>\r\n                <Card style={{ width: '18rem' }}>\r\n                  <a\r\n                    target=\"_blank\"\r\n                    href={album.external_urls.spotify}\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"card-image-link\"\r\n                  >\r\n                    {!_.isEmpty(album.images) ? (\r\n                      <Card.Img\r\n                        variant=\"top\"\r\n                        src={album.images[0].url}\r\n                        alt=\"\"\r\n                      />\r\n                    ) : (\r\n                      <img src={music} alt=\"\" />\r\n                    )}\r\n                  </a>\r\n                  <Card.Body>\r\n                    <Card.Title>{album.name}</Card.Title>\r\n                    <Card.Text>\r\n                      <small>\r\n                        {album.artists.map((artist) => artist.name).join(', ')}\r\n                      </small>\r\n                    </Card.Text>\r\n                  </Card.Body>\r\n                </Card>\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AlbumsList;","import React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport _ from 'lodash';\r\nimport music from '../images/music.jpeg';\r\n\r\nconst ArtistsList = ({ artists }) => {\r\n  return (\r\n    <React.Fragment>\r\n      {Object.keys(artists).length > 0 && (\r\n        <div className=\"artists\">\r\n          {artists.items.map((artist, index) => {\r\n            return (\r\n              <React.Fragment key={index}>\r\n                <Card style={{ width: '18rem' }}>\r\n                  <a\r\n                    target=\"_blank\"\r\n                    href={artist.external_urls.spotify}\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"card-image-link\"\r\n                  >\r\n                    {!_.isEmpty(artist.images) ? (\r\n                      <Card.Img\r\n                        variant=\"top\"\r\n                        src={artist.images[0].url}\r\n                        alt=\"\"\r\n                      />\r\n                    ) : (\r\n                      <img src={music} alt=\"\" />\r\n                    )}\r\n                  </a>\r\n                  <Card.Body>\r\n                    <Card.Title>{artist.name}</Card.Title>\r\n                  </Card.Body>\r\n                </Card>\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ArtistsList;","import React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport _ from 'lodash';\r\nimport music from '../images/music.jpeg';\r\n\r\nconst PlayList = ({ playlist }) => {\r\n  return (\r\n    <div>\r\n      {Object.keys(playlist).length > 0 && (\r\n        <div className=\"playlist\">\r\n          {playlist.items.map((item, index) => {\r\n            return (\r\n              <React.Fragment key={index}>\r\n                <Card style={{ width: '18rem' }}>\r\n                  <a\r\n                    target=\"_blank\"\r\n                    href={item.external_urls.spotify}\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"card-image-link\"\r\n                  >\r\n                    {!_.isEmpty(item.images) ? (\r\n                      <Card.Img variant=\"top\" src={item.images[0].url} alt=\"\" />\r\n                    ) : (\r\n                      <img src={music} alt=\"\" />\r\n                    )}\r\n                  </a>\r\n                  <Card.Body>\r\n                    <Card.Title>{item.name}</Card.Title>\r\n                    <Card.Text>\r\n                      <small>By {item.owner.display_name}</small>\r\n                    </Card.Text>\r\n                  </Card.Body>\r\n                </Card>\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlayList;","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport _ from 'lodash';\r\nimport AlbumsList from './AlbumsList';\r\nimport ArtistsList from './ArtistsList';\r\nimport PlayList from './PlayList';\r\n\r\nconst SearchResult = (props) => {\r\n  const { isValidSession, loadMore, result, setCategory, selectedCategory } = props;\r\n  const { albums, artists, playlist } = result;\r\n\r\n  if (!isValidSession()) {\r\n    // TO-DO\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"search-buttons\">\r\n        {!_.isEmpty(albums.items) && (\r\n          <button\r\n            className={`${\r\n              selectedCategory === 'albums' ? 'btn active' : 'btn'\r\n            }`}\r\n            onClick={() => setCategory('albums')}\r\n          >\r\n            Albums\r\n          </button>\r\n        )}\r\n        {!_.isEmpty(artists.items) && (\r\n          <button\r\n            className={`${\r\n              selectedCategory === 'artists' ? 'btn active' : 'btn'\r\n            }`}\r\n            onClick={() => setCategory('artists')}\r\n          >\r\n            Artists\r\n          </button>\r\n        )}\r\n        {!_.isEmpty(playlist.items) && (\r\n          <button\r\n            className={`${\r\n              selectedCategory === 'playlist' ? 'btn active' : 'btn'\r\n            }`}\r\n            onClick={() => setCategory('playlist')}\r\n          >\r\n            PlayLists\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className={`${selectedCategory === 'albums' ? '' : 'hide'}`}>\r\n        {albums && <AlbumsList albums={albums} />}\r\n      </div>\r\n      <div className={`${selectedCategory === 'artists' ? '' : 'hide'}`}>\r\n        {artists && <ArtistsList artists={artists} />}\r\n      </div>\r\n      <div className={`${selectedCategory === 'playlist' ? '' : 'hide'}`}>\r\n        {playlist && <PlayList playlist={playlist} />}\r\n      </div>\r\n\r\n      {!_.isEmpty(result[selectedCategory]) &&\r\n       !_.isEmpty(result[selectedCategory].next) && (\r\n        <div className=\"load-more\" onClick={() => loadMore(selectedCategory)}>\r\n          <Button variant=\"info\" type=\"button\">\r\n            Load More\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SearchResult;","import React, { useState } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\n\r\nconst SearchForm = (props) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n\r\n  const handleInputChange = (event) => {\r\n    const searchTerm = event.target.value;\r\n    setSearchTerm(searchTerm);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    event.preventDefault();\r\n    if (searchTerm.trim() !== '') {\r\n      setErrorMsg('');\r\n      props.handleSearch(searchTerm);\r\n    } else {\r\n      setErrorMsg('Please enter a search term.');\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      <Form onSubmit={handleSearch}>\r\n        {errorMsg && <p className=\"errorMsg\">{errorMsg}</p>}\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>Enter search term</Form.Label>\r\n          <Form.Control\r\n            type=\"search\"\r\n            name=\"searchTerm\"\r\n            value={searchTerm}\r\n            placeholder=\"Search for album, artist or playlist\"\r\n            onChange={handleInputChange}\r\n            autoComplete=\"off\"\r\n          />\r\n        </Form.Group>\r\n        <Button variant=\"info\" type=\"submit\">\r\n          Search\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchForm;","import React from 'react';\r\n\r\nconst Header = () => {\r\n  return <h1 className=\"main-heading\">Spotify Music Search (under construction)</h1>;\r\n};\r\n\r\nexport default Header;\r\n","import { useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nconst Loader = (props) => {\r\n  const [node] = useState(document.createElement('div'));\r\n  const loader = document.querySelector('#loader');\r\n\r\n  useEffect(() => {\r\n    loader.appendChild(node).classList.add('message');\r\n  }, [loader, node]);\r\n\r\n  useEffect(() => {\r\n    if (props.show) {\r\n      loader.classList.remove('hide');\r\n      document.body.classList.add('loader-open');\r\n    } else {\r\n      loader.classList.add('hide');\r\n      document.body.classList.remove('loader-open');\r\n    }\r\n  }, [loader, props.show]);\r\n\r\n  return ReactDOM.createPortal(props.children, node);\r\n};\r\nexport default Loader;","import React, { useState } from 'react';\r\nimport {\r\n  initiateGetResult,\r\n  initiateLoadMoreAlbums,\r\n  initiateLoadMorePlaylist,\r\n  initiateLoadMoreArtists\r\n} from '../actions/result';\r\nimport { connect } from 'react-redux';\r\nimport SearchResult from './SearchResult';\r\nimport SearchForm from './SearchForm';\r\nimport Header from './Header';\r\nimport Loader from './Loader';\r\n\r\nconst Dashboard = (props) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [selectedCategory, setSelectedCategory] = useState('albums');\r\n  const { isValidSession, refreshSession } = props;\r\n\r\n  const handleSearch = async (searchTerm) => {\r\n    if (!isValidSession()) await refreshSession();\r\n    setIsLoading(true);\r\n    props.dispatch(initiateGetResult(searchTerm)).then(() => {\r\n      setIsLoading(false);\r\n      setSelectedCategory('albums');\r\n    });\r\n  };\r\n\r\n  const loadMore = async (type) => {\r\n    if (!isValidSession()) await refreshSession();\r\n    const { dispatch, albums, artists, playlist } = props;\r\n    setIsLoading(true);\r\n    switch (type) {\r\n      case 'albums':\r\n        await dispatch(initiateLoadMoreAlbums(albums.next));\r\n        break;\r\n      case 'artists':\r\n        await dispatch(initiateLoadMoreArtists(artists.next));\r\n        break;\r\n      case 'playlist':\r\n        await dispatch(initiateLoadMorePlaylist(playlist.next));\r\n        break;\r\n      default:\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const setCategory = (category) => {\r\n    setSelectedCategory(category);\r\n  };\r\n\r\n  const { albums, artists, playlist } = props;\r\n  const result = { albums, artists, playlist };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div>\r\n        <Header />\r\n        <SearchForm handleSearch={handleSearch} />\r\n        <Loader show={isLoading}>Loading...</Loader>\r\n        <SearchResult\r\n          result={result}\r\n          loadMore={loadMore}\r\n          setCategory={setCategory}\r\n          selectedCategory={selectedCategory}\r\n          isValidSession={isValidSession}\r\n        />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    albums: state.albums,\r\n    artists: state.artists,\r\n    playlist: state.playlist\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Dashboard);","import React from 'react';\r\nimport Dashboard from './Dashboard';\r\nimport { getAuthToken } from '../utils/api';\r\n\r\nclass Main extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = { loaded: false };\r\n    }\r\n    \r\n    refreshSession = async () => {\r\n        const result = await getAuthToken();\r\n        const {\r\n            access_token,\r\n            expires_in\r\n        } = result;\r\n        localStorage.setItem('params', JSON.stringify(access_token));\r\n        localStorage.setItem('expiry_time', new Date().getTime() + expires_in * 1000);\r\n        if(!this.loaded) this.setState({ loaded: true });\r\n    }\r\n    \r\n    isValidSession = () => {\r\n        let expiryTime;\r\n        try {\r\n          expiryTime = JSON.parse(localStorage.getItem('expiry_time'));\r\n        } catch (error) {\r\n          expiryTime = '0';\r\n        }\r\n        const currentTime = new Date().getTime();\r\n        return currentTime < expiryTime;\r\n    };\r\n\r\n    render() {\r\n        if(!this.isValidSession()) {\r\n          this.refreshSession();\r\n          return (\r\n            <div className=\"main\">\r\n              Loading...\r\n            </div>\r\n          );\r\n        }\r\n        return (\r\n          <div className=\"main\">\r\n            <Dashboard isValidSession={this.isValidSession} />\r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Main;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store/store';\nimport Main from './components/Main';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './styles.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <Main />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}